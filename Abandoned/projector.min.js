!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(43),i=n(22)(iAdvize,r);iAdvize.define("mirror",function(t,e){e.init=function(){return i.init(document,document.body)},e.listen=function(t){t.on("xmpp.room.joined",function(){i.init(document,document.body)})},e.disable=function(){i.disable()},e.isReceiver=function(){return i.isReceiver()},e.changeState=function(t){i.changeState(t)},e.state=e.changeState,e.receiverDispatcher=function(t){i.receiverDispatcher(t)}})},,function(t,e){(function(e){t.exports=e}).call(e,{})},,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,,,,,,,,,,,,function(t,e,n){"use strict";t.exports=function(){function t(t){for(var e=0,n=t.length;e<n;e++)t[e]=String.fromCharCode(t[e]);return t.join("")}function e(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e}var r=n(20),i=n(21);return{compress:function(e,n){var i="0",o=e;if(n){var a=r.compress(e);a.length<e.length&&(i="1",o=t(a))}return i+o},decompress:function(t){var n,o=t.charAt(0);return t=t.slice(1),"1"===o?n=i(r.decompress(e(t),!1)):"0"===o&&(n=t),n}}}},function(t,e){var n={version:"$Revision: 3026 $".substring(11).replace(" $","")};n.toByteArray=function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t.charCodeAt(e),n<=127?r.push(n):n<=2047?(r.push(n>>6|192),r.push(63&n|128)):n<=65535?(r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)):(r.push(n>>18|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128));return r},n.Base64={CA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CAS:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",IA:new Array(256),IAS:new Array(256),init:function(){var t;for(t=0;t<256;t++)n.Base64.IA[t]=-1,n.Base64.IAS[t]=-1;for(t=0,iS=n.Base64.CA.length;t<iS;t++)n.Base64.IA[n.Base64.CA.charCodeAt(t)]=t,n.Base64.IAS[n.Base64.CAS.charCodeAt(t)]=t;n.Base64.IA["="]=n.Base64.IAS["="]=0},encode:function(t,e){var r,i,o,a,s,c,h,u,l,f;for(r=e?n.Base64.CAS:n.Base64.CA,o=t.constructor==Array?t:n.toByteArray(t),a=o.length,s=a/3*3,c=(a-1)/3+1<<2,i=new Array(c),h=0,u=0;h<s;)f=(255&o[h++])<<16|(255&o[h++])<<8|255&o[h++],i[u++]=r.charAt(f>>18&63),i[u++]=r.charAt(f>>12&63),i[u++]=r.charAt(f>>6&63),i[u++]=r.charAt(63&f);return l=a-s,l>0&&(f=(255&o[s])<<10|(2==l?(255&o[a-1])<<2:0),i[c-4]=r.charAt(f>>12),i[c-3]=r.charAt(f>>6&63),i[c-2]=2==l?r.charAt(63&f):"=",i[c-1]="="),i.join("")},decode:function(t,e){var r,i,o,a,s,c,h,u,l,f,d,p,g,v,m,y;for(r=e?n.Base64.IAS:n.Base64.IA,t.constructor==Array?(o=t,s=!0):(o=n.toByteArray(t),s=!1),a=o.length,c=0,h=a-1;c<h&&r[o[c]]<0;)c++;for(;h>0&&r[o[h]]<0;)h--;for(u="="==o[h]?"="==o[h-1]?2:1:0,l=h-c+1,f=a>76?("\r"==o[76]?l/78:0)<<1:0,d=(6*(l-f)>>3)-u,i=new Array(d),p=0,g=0,eLen=d/3*3;p<eLen;)v=r[o[c++]]<<18|r[o[c++]]<<12|r[o[c++]]<<6|r[o[c++]],i[p++]=v>>16&255,i[p++]=v>>8&255,i[p++]=255&v,f>0&&19==++g&&(c+=2,g=0);if(p<d){for(v=0,m=0;c<=h-u;m++)v|=r[o[c++]]<<18-6*m;for(y=16;p<d;y-=8)i[p++]=v>>y&255}if(s)return i;for(v=0;v<i.length;v++)i[v]=String.fromCharCode(i[v]);return i.join("")}},n.Base64.init();var r=8,i=6,o=3,a=(1<<i)+(o-1),s=(1<<16-i)-1,c=256;n.compress=function(t){var e,h,u,l,f,d,p,g,v,m=[],y=0,b=0,w=1<<r-1,_=new Array(c);for(g=0;g<c;g++)_[g]=3435973836;for(t.constructor==Array?(e=t,v=!0):(e=n.toByteArray(t),v=!1),h=e.length;y<h;){if((w<<=1)==1<<r){if(b>=h-1-2*r){for(f=h,y=0,b=0;f;f--)m[b++]=e[y++];return m}w=1,l=b,m[b++]=0}if(y>h-a)m[b++]=e[y++];else if(p=(e[y]+13^e[y+1]-13^e[y+2])&c-1,d=y-_[p]&s,_[p]=y,u=y-d,u>=0&&u!=y&&e[y]==e[u]&&e[y+1]==e[u+1]&&e[y+2]==e[u+2]){for(m[l]|=w,f=o;f<a&&e[y+f]==e[u+f];f++);m[b++]=f-o<<r-i|d>>r,m[b++]=d,y+=f}else m[b++]=e[y++]}return m},n.decompress=function(t,e){var a,c,h,u,l,f,d,p,g,v=[],m=0,y=0,b=1<<r-1;for(t.constructor==Array?(a=t,p=!0):(a=n.toByteArray(t),p=!1),p="undefined"!=typeof e&&e,c=a.length,g=function(){if(p)return v;for(d=0;d<y;d++)v[d]=String.fromCharCode(v[d]);return v.join("")};m<c;)if((b<<=1)==1<<r&&(b=1,u=a[m++]),u&b){if(l=(a[m]>>r-i)+o,f=(a[m]<<r|a[m+1])&s,m+=2,!((h=y-f)>=0))return g();for(;--l>=0;)v[y++]=v[h++]}else v[y++]=a[m++];return g()},t.exports=n},function(t,e){function n(t){var e,n,r,i,o="",a=0;for(e=n=r=0;a<t.length;)e=t.charCodeAt(a),e<128?(o+=String.fromCharCode(e),a++):e>191&&e<224?(r=t.charCodeAt(a+1),o+=String.fromCharCode((31&e)<<6|63&r),a+=2):(r=t.charCodeAt(a+1),i=t.charCodeAt(a+2),o+=String.fromCharCode((15&e)<<12|(63&r)<<6|63&i),a+=3);return o}t.exports=n},function(t,e,n){t.exports=function(t,e){var r=!1,i=null,o=t.$||jQuery,a=n(23)(t),s=n(24)(t),c=n(25)(s,a.socket,e),h=n(26)(),u=n(27)(s,a.dom,o),l=n(32)(s,a.dom,c,h,u.projector,o),f=n(40)(a.events,c,t,u.projector.events,o);return s.info("version","1.2.0"),{init:function(e,n,o){var a=t.$.Deferred();return r&&!o?(a.resolve(),a.promise()):(r=!0,l.start(e),i=f.start(n,a.resolve),a.promise())},disable:function(){i&&i.changeState&&i.changeState("disabled")},isReceiver:function(){return i&&i.opts&&"receiver"===i.opts.mode},changeState:function(t){i&&i.changeState&&i.changeState(t)},receiverDispatcher:function(t){i.receiverDispatcher(t)}}}},function(t,e){t.exports=function(t){return{socket:{host:"https://"+t.mirrorHost,vuid:t.vuid,websiteId:t.website_id},dom:{proxy:{hosts:{proxify:"https://"+t.mirrorHost+"/proxify/",base:"https://"+t.mirrorHost+"/baseproxy/",rewrite:"https://"+t.mirrorHost+"/rewrite/"},proxyfiedTags:{img:{"data-src":!1,src:!1,srcset:!1},link:{href:!0},source:{src:!1,srcset:!1},input:{src:!1},form:{action:!1}}},textTree:{updateInterval:1e3},excludedElements:["script","title","#idz_chatglobal","#idz_btn","#idz_bottompad","#idz_chatbar_mini","#idz_sound_container","#visitor_cursor","#anim_clic","#idz_writting",".avast-extension-safeshop-bar","head img",'object[type="text/x-scriptlet"]','object[type="text/javascript"]','object[type="application/javascript"]','object[type="text/ecmascript"]','object[type="application/ecmascript"]','object[type="application/postscript"]',"object[classid]"],canvas:{algorithm:"image/jpeg",quality:.9,interval:500,initialDelay:5e3,cacheSize:1048576},hiddenElements:{".idz_hide":"lock",'input[rel="idzhide"]':"lock",'input[type="password"]':"lock",'object[type="text/html"]':"lock",'object[type="application/pdf"]':"pdf",'object[type="application/x-shockwave-flash"]':"flash",applet:"applet"},hiddenTagsStyle:{"background-color":"#DDD",border:"border: #AAA solid 1px","border-radius":"5px","vertical-align":"middle","background-position":"center","background-repeat":"no-repeat","background-image":'url("/pupitre/img/bg_mirroring_{icon}.png")'}},events:{excludedElements:["#idz_chatglobal"],handledEvents:["default","click","resize","keyup","mousemove","scroll"]}}}},function(t,e){t.exports=function(t){function e(){this.messages=[],this.disabled=[],this.consoleChannels=[],this.consoleLevels=["error"]}t.mirroring=t.mirroring||{},e.prototype.log=function(e,n,r){var i=Array.prototype.slice.call(arguments);if(e=i.shift(),n=i.shift(),r=i,!(this.disabled.indexOf(n)>-1)){var o={date:(new Date).toJSON(),channel:n,message:r,level:e};this.messages.push(o),t.mirroring.logger.messages.push(o),(this.consoleChannels.indexOf(n)>-1||this.consoleLevels.indexOf(e)>-1)&&this.displayLine(o)}},e.prototype.enable=function(t){var e=this.disabled.indexOf(t);e>-1&&this.disabled.splice(e,1)},e.prototype.disable=function(t){this.disabled.indexOf(t)===-1&&this.disabled.push(t)},e.prototype.show=function(t){this.consoleChannels.indexOf(t)===-1&&this.consoleChannels.push(t)},e.prototype.hide=function(t){var e=this.consoleChannels.indexOf(t);e>-1&&this.consoleChannels.splice(e,1)},e.prototype.view=function(t){var e=this;t=Array.prototype.slice.call(arguments),this.messages.forEach(function(n){(!t.length||t.indexOf(n.channel)>-1)&&e.displayLine(n)})},e.prototype.displayLine=function(t){window.console=window.console||{},window.console.log=window.console.log||function(){};var e=Function.prototype.bind.call(console.log,console);e.bind(console,t.date,"["+t.level.toUpperCase()+"]",t.channel,"-").apply(console,t.message)},e.prototype.debug=function(t,e){this.log.bind(this,"debug").apply(this,arguments)},e.prototype.info=function(t,e){this.log.bind(this,"info ").apply(this,arguments)},e.prototype.warn=function(t,e){this.log.bind(this,"warn ").apply(this,arguments)},e.prototype.error=function(t,e){this.log.bind(this,"error").apply(this,arguments)};var n=new e;return t.mirroring.logger=n,n}},function(t,e){t.exports=function(t,e,n){function r(){return i||(a.transports=["websocket"],i=n(o,a),t.info("socket","Socket connecting to",o,a),i.on("error",function(e){t.error("socket","Error connecting socket",e)}),i.on("reconnecting",function(e){t.warn("socket","Reconnecting socket",e)}),i.on("reconnect_error",function(e){t.error("socket","Error reconnecting socket",e)})),i}var i=null,o=e.host+"/"+e.vuid+"/"+e.websiteId,a={query:"vuid="+e.vuid+"&websiteId="+e.websiteId,port:443,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5};return{connectViewer:function(){var e=r();return window.parent&&window.parent.iAdvize&&(window.parent.iAdvize.socket=e),e.on("closeSocket",function(){e.emit("closeSocket"),t.info("socket","Emit closeSocket")}),e},connectProjector:function(){return r()}}}},function(t,e){t.exports=function(){var t={TEXT:1,DMO:2},e=function(){for(var t=["WebKit","Moz","O","Ms",""],e=0;e<t.length;e++)if(t[e]+"MutationObserver"in window)return window[t[e]+"MutationObserver"];return!1}(),n=e?t.DMO:t.TEXT;return document.querySelector("html").className.indexOf("idz_mirroring_refresh_")>=0&&(n=t.TEXT),{TEXT:t.TEXT,DMO:t.DMO,getMethod:function(){return n},getMethodName:function(){return n===t.DMO?"dmo":"text"},setMethod:function(t){n=t},isDMO:function(){return n===t.DMO}}}},function(t,e,n){t.exports=function(t,e,r){var i=n(28)(e,r),o=n(29)(e.canvas,r),a=n(30)(t,r),s=n(31)(r);return{projector:{dmo:{hiddenElements:i.projector.dmo,canvas:o.projector.dmo,iframes:a.projector.dmo,inputs:s.projector.dmo},text:{hiddenElements:i.projector.text,canvas:o.projector.text,iframes:a.projector.text,inputs:s.projector.text},events:{inputs:s.projector.events}},viewer:{dmo:{hiddenElements:i.viewer.dmo,canvas:o.viewer.dmo,iframes:a.viewer.dmo,inputs:s.viewer.dmo},text:{hiddenElements:i.viewer.text,canvas:o.viewer.text,iframes:a.viewer.text,inputs:s.viewer.text}}}}},function(t,e){"use strict";t.exports=function(t,e){function n(){var e=[];for(var n in t.hiddenElements)t.hiddenElements.hasOwnProperty(n)&&e.push(n);return e}var r=n(),i=r.join(",");return{projector:{dmo:{isHidden:function(t){return e(t).is(i)},changeNodeAttributes:function(e,n){var i,o,a=["id","class","style"],s={};for(i=0,o=a.length;i<o;i++)e.attributes[a[i]]&&(s[a[i]]=e.attributes[a[i]]);e.attributes=s;var c=parseInt(n.css("width"),10)+parseInt(n.css("border-left-width"),10)+parseInt(n.css("border-right-width"),10)-2,h=parseInt(n.css("height"),10)+parseInt(n.css("border-top-width"),10)+parseInt(n.css("border-bottom-width"),10)-2,u="inline"===n.css("display")?"inline-block":n.css("display");e.tagName="DIV",e.attributes.style=e.attributes.style||"",e.attributes.style+=";display:"+u,e.attributes.style+=";width:"+c+"px",e.attributes.style+=";height:"+h+"px",e.attributes["data-width"]=c,e.attributes["data-height"]=h;var l=["float","position","top","left","right","bottom","margin","padding"];for(i=0,o=l.length;i<o;i++)e.attributes.style+=";"+l[i]+":"+n.css(l[i]);return e.isHidden=!0,r.forEach(function(r){n.is(r)&&(e.hiddenIcon=t.hiddenElements[r])}),e}},text:{markAll:function(){e(i).each(function(t){var n=e(this);n.addClass("idz_hide idz_hide-"+t),n.attr("data-idz_hide",t)})},isHidden:function(t){return t.hasClass("idz_hide")},changeNodeAttributes:function(t){var n=t;return t.find(".idz_hide").addBack(".idz_hide").each(function(){var r,i,o=e(this),a=e(".idz_hide-"+o.attr("data-idz_hide")),s=e("inline"===a.css("display")?"<span>":"<div>"),c=["id","class","style","data-width","data-height"],h=["float","position","top","left","right","bottom","margin","padding"];for(r=0,i=c.length;r<i;r++)o.attr(c[r])&&s.attr(c[r],o.attr(c[r]));var u=parseInt(a.css("width"),10)+parseInt(a.css("border-left-width"),10)+parseInt(a.css("border-right-width"),10)-2,l=parseInt(a.css("height"),10)+parseInt(a.css("border-top-width"),10)+parseInt(a.css("border-bottom-width"),10)-2,f="inline"===a.css("display")?"inline-block":a.css("display");for(s.css("display",f),s.css("width",u+"px"),s.css("height",l+"px"),s.attr("data-width",u),s.attr("data-height",l),r=0,i=h.length;r<i;r++)s.css(h[r],a.css(h[r]));o.replaceWith(s),o.is(t)&&(n=s)}),n}}},viewer:{dmo:{isHidden:function(t){return t.isHidden||t.nodeName&&t.className.indexOf("idz_hide")!==-1},changeNodeAttributes:function(e){return"INPUT"===e.tagName?(e.attributes.disabled="disabled",e.attributes.value=e.attributes.value?Array(e.attributes.value.length+1).join("*"):"",e.value&&(e.value=Array(e.value.length+1).join("*"))):Object.keys(t.hiddenTagsStyle).forEach(function(n){("background-image"!==n||e.attributes["data-width"]>=50&&e.attributes["data-height"]>=50)&&(e.attributes.style+=";"+n+": "+t.hiddenTagsStyle[n].replace("{icon}",e.hiddenIcon))}),e.attributes.class&&e.attributes.class.indexOf("idz_hide")!==-1||(e.attributes.class=e.attributes.class||"",e.attributes.class+=" idz_hide"),e}},text:{changeNodeAttributes:function(n){n.find(".idz_hide").each(function(){var n=e(this);for(var r in t.hiddenTagsStyle)t.hiddenTagsStyle.hasOwnProperty(r)&&("background-image"!==r||n.attr("data-width")>=50&&n.attr("data-height")>=50)&&(n.css(r,t.hiddenTagsStyle[r]),"background-image"===r&&n.css(r,t.hiddenTagsStyle[r].replace("/",window.parent.location.origin+"/").replace("{icon}","lock")))})}}}}}},function(t,e){"use strict";t.exports=function(t,e){function n(){return{refreshTimeout:null,cache:{hashes:[],lengths:[],data:[],size:0}}}function r(t){var e,n,r,i=0;if(0==t.length)return i;for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}function i(n,i){var o=e("canvas");return e("iframe.idz_iframe").each(function(){o=o.add(e(this).contents().find("canvas"))}),!o.length&&i&&"function"==typeof i?void i(n):void o.each(function(){var i=e(this),o=i.hasClass("idz_canvas_png")?"image/png":t.algorithm,a=this.toDataURL(o,t.quality),s=r(a),u=n.cache.hashes.indexOf(s);u>-1?i.attr(h,s).removeAttr(c):(i.attr(c,a).removeAttr(h),n.cache.hashes.push(s),n.cache.lengths.push(a.length),n.cache.size+=a.length,n.cache.size>t.cacheSize&&(n.cache.hashes.shift(),n.cache.size-=n.cache.lengths.shift()))})}function o(e,n){var i=r(n).toString();e.cache.hashes.indexOf(i)===-1&&(e.cache.hashes.push(i),e.cache.data.push(n),e.cache.size+=n.length,e.cache.size>t.cacheSize&&(e.cache.hashes.shift(),e.cache.size-=e.cache.data.shift().length))}function a(t,e){var n=t.cache.hashes.indexOf(e);return n>-1?t.cache.data[n]:null}function s(t,e){if(e){var n=t.getContext("2d"),r=new Image;r.src=e,r.onload=function(){n.clearRect(0,0,t.width,t.height),n.drawImage(r,0,0,r.width,r.height,0,0,t.width,t.height)}}}var c="data-plainctx",h="data-cachedctx";return{projector:{dmo:{getInitialData:n,serialize:function(e,n){e.refreshTimeout||n||setTimeout(function(){e.refreshTimeout=setInterval(function(){i(e,function(t){clearInterval(t.refreshTimeout),t.refreshTimeout=null})},t.interval)},t.initialDelay)}},text:{getInitialData:n,serialize:i}},viewer:{dmo:{getInitialData:n,unserialize:function(t,e,n,r){var i=null;e===c?(i=n,o(t,n)):e===h&&(i=a(t,n)),s(r,i)}},text:{getInitialData:n,unserialize:function(t,e){e.find("canvas").each(function(){var e=this.getAttribute(c),n=this.getAttribute(h),r=null;e?(r=e,o(t,e)):n&&(r=a(t,n.toString())),s(this,r)})}}}}}},function(t,e){"use strict";var n="idz_iframe";t.exports=function(t,e){return{projector:{dmo:{isMirrored:function(t){return t.className.indexOf(n)!==-1},serialize:function(n,r,i,o,a,s){var c=r.className,h=c.indexOf("idz_loading_iframe")!==-1,u=c.indexOf("idz_loaded_iframe")!==-1,l=c.indexOf("idz_mirrored_iframe-")!==-1,f=null,d=null;try{f=r.contentDocument.querySelector("head"),d=r.contentDocument.querySelector("body")}catch(n){t.info("iframe",n),f=e("<head>")[0],d=e("<body>")[0]}if(l||h){if(!l&&u){var p=r.getAttribute("data-idz-iframe");r.className+=" idz_mirrored_iframe-"+p,n.attributes.id=n.attributes.id||"idz-iframe-"+p,n.contentDocumentHead=o.call(a,f,!0,null),n.contentDocumentBody=o.call(a,d,!0,null),s(p)}}else{var g=i.length-1;i.push(null),r.className+=" idz_loading_iframe",r.setAttribute("data-idz-iframe",g),n.attributes.id=n.attributes.id||"idz-iframe-"+g,d.innerHTML.length>0?setTimeout(function(){r.className+=" idz_loaded_iframe"},0):r.addEventListener("load",function(){r.className+=" idz_loaded_iframe"},!1)}}},text:{getInitialData:function(){return{count:0}},serialize:function(r,i,o,a){i.iframesHtml={},e("iframe."+n,o).each(function(n,o){var s=null;o.id||(r.count++,o.id="idz-iframe-"+r.count);try{s=e(o.contentDocument)}catch(n){t.info("iframe",n),s=e("<html>").append(e("<head>")).append(e("<body>"))}var c=s.find("head"),h=s.find("body");i.iframesHtml[o.id]=a(s,c,h)})},applyPatch:function(t,n,r,i,o,a,s){var c=!1;return r.iframesHtml={},e.each(n.iframesHtml,function(e){if(t.iframesHtml[e]){var h=i.call(s,t.iframesHtml[e],n.iframesHtml[e]);o(h)&&(c=!0,r.iframesHtml[e]=a.call(s,h),r.iframesHtml[e].patch=!0)}else r.iframesHtml[e]=n.iframesHtml[e],c=!0}),c}}},viewer:{dmo:{unserialize:function(t,e,n){if(t.contentDocumentBody){var r=e.querySelector("#"+t.attributes.id);r&&(r.onload=function(){var e=r.contentDocument.querySelector("head"),i=r.contentDocument.querySelector("body");e.parentNode.replaceChild(n(t.contentDocumentHead),e),i.parentNode.replaceChild(n(t.contentDocumentBody),i)}.bind(this),r.src="//"+iAdvize.mirrorHost+"/viewer/iframe/1"+(iAdvize.isOnIbbu?"?application=ibbu":""))}}},text:{updateDom:function(t,n,r){var i=t.iframesHtml||{};e.each(i,function(t,i){var o=e("iframe#"+t),a={};a.$html=e("html",o[0].contentDocument),a.$head=e("head",a.$html),a.$body=e("body",a.$html),n.call(r,a,i)})},patchDom:function(t,n,r,i,o){var a=t.iframesHtml||{};e.each(a,function(t,a){var s=e("iframe#"+t),c={};c.$html=e("html",s[0].contentDocument),c.$head=e("head",c.$html),c.$body=e("body",c.$html),a.patch?n.call(o,c,i.iframesHtml[t],a):(i.iframesHtml[t]=a,r.call(o,c,a))})}}}}}},function(t,e){"use strict";t.exports=function(t){return{projector:{dmo:{serialize:function(t,e){t.value=e.value,e.checked?t.attributes.checked="checked":delete t.attributes.checked}},text:{serialize:function(e){e.find("input, select").each(function(){var e=t(this);e.attr("value",e.val()),e.is("input:checkbox, input:radio")&&(e.is(":checked")?e.attr("checked","checked"):e.removeAttr("checked"))})}},events:{onMirroringEnabled:function(e){e.find("input").off("change.cobrowsing"),e.off("change.mirroring.checkboxes"),e.on("change.mirroring.checkboxes","input:checkbox, input:radio",function(){var e=t(this),n=e.is(":checked");"radio"===e.attr("type")?t('input[name="'+e.attr("name")+'"]').removeAttr("checked"):e.removeAttr("checked"),n&&e.attr("checked","checked").prop("checked",!0)})},onCobrowsingEnabled:function(e){e.find("input").off("change.cobrowsing").on("change.cobrowsing",function(){var e=t(this);e.attr("value",e.val())})}}},viewer:{dmo:{unserialize:function(t,e){t.getAttribute("value")&&(t.value=t.getAttribute("value")),t.getAttribute("checked")&&(t.checked=!0),e.value&&(t.value=e.value),"SELECT"===e.tagName&&e.childNodes&&e.childNodes.forEach(function(t){t.tagName&&"OPTION"===t.tagName&&(e.value===t.value?t.attributes.selected="selected":delete t.attributes.selected)})}},text:{unserialize:function(e){e.find("input, select").each(function(){var e=t(this);if(e.attr("value")&&e.val(e.attr("value")),"SELECT"===e[0].tagName){var n=e;t("option",e).each(function(){var e=t(this);e.prop("selected",e.attr("value")===n.val())})}})}}}}}},function(t,e,n){t.exports=function(t,e,r,i,o,a){var s={excludedElements:e.excludedElements.join(",")},c=n(19)(),h=n(33)(e.proxy,a),u=n(34)(r,c,h),l={text:n(36)(t,e,u,h,o.text,a),dmo:n(38)(t,e,u,h,o.dmo,a)};return{start:function(e){var n=r.connectProjector(),o=null;n.on("connect",function(){t.info("socket","Connected socket with id",n.io.engine.id),n.emit("projector",i.getMethod()),t.info("socket","Emit projector",i.getMethod())}),n.on("method",function(e,n){t.info("handshake","Received method",e),i.setMethod(e),n&&n()}),n.on("start",function(){t.info("handshake","Transport :",n.io.engine.transport.name),t.info("handshake","Method :",i.getMethod()),o&&o.disconnect(),o=new(l[i.getMethodName()])(e,s)}),n.on("disconnect",function(){t.info("socket","Socket disconnect"),o&&o.disconnect(),o=null}),n.on("isPageReloaded",function(){setTimeout(function(){n.emit("isPageReloaded",!0)},500)})}}}},function(t,e){t.exports=function(t,e){function n(t,e){return decodeURIComponent(t).trim().replace(/(^|,\s*)([^\s]+)/g,function(t,n,i){return n+r(i,e)})}function r(e,r,i){if(i&&"srcset"===i)return n(e,r);if(0===e.indexOf("https")||0===e.indexOf("data:"))return e;0===e.indexOf("//")&&(e="http:"+e);var o=r||e.indexOf(".css")>0?t.hosts.rewrite:t.hosts.proxify;return o+"?url="+encodeURIComponent(e)}function i(e){return e=e||"",e=e.replace(f,""),t.hosts.base+e}function o(t){return decodeURIComponent(t).trim().replace(/(^|,\s*)([^\s]+)/g,function(t,e,n){return e+a(n)})}function a(t,e){return e&&"srcset"===e?o(t):(l||(l=document.createElement("a")),l.href=t||"#",t?l.href:l.href.slice(0,-1))}function s(t,e){var n=a(e);if(e&&(0===e.indexOf("//")||0===e.indexOf("http")||0===e.indexOf("data:"))||n.indexOf("baseproxy")>=0)return n;l.href=t;var r=l.protocol+"//"+l.host;l.href=n;var i=l.pathname+l.search+l.hash,o=0!==l.pathname.indexOf("/")?"/":"";return r+o+i}function c(e,n){return e=e.toLowerCase(),n=n.toLowerCase(),t.proxyfiedTags[e]&&"undefined"!=typeof t.proxyfiedTags[e][n]}function h(t,e){return t.replace(d,function(t,n,i){return n=n||'"',"url("+n+r(s(e,i),!1)+n+")"})}function u(n,i){var o=null;return e.each(t.proxyfiedTags,function(t,a){e.each(a,function(e,a){o=new RegExp("(<"+t+"[^>]+?"+e+"=)['\"]([^'\"]+)['\"]","gi"),n=n.replace(o,function(t,e,n){return e+'"'+r(s(i,n),a)+'"'})})}),n=h(n,i)}var l=null,f=/(http|https):\/\//gi,d=/url\s*\(\s*(['"]|(?:&quot;))*\s*([^\)'"]*?)\s*(?:['"]|(?:&quot;))*\s*\)/gi;return{securizeUrl:r,securizeBaseUrl:i,toAbsolute:a,isProxyfiedAttribute:c,convertContent:h,convertText:u}}},function(t,e,n){t.exports=function(t,e,r){function i(){this.sendMessage({base:r.toAbsolute()}),this.previousMessage={node:null,time:0}}var o=n(35).noConflict();return i.prototype.shouldEmit=function(t,e){if(!t.args||t.args.length<4)return!0;if(t.args[0].length)return!0;if(e.indexOf("checked")!==-1)return!0;var n=(new Date).getTime(),r=t.args[2][0]?t.args[2][0].node:0,i=e.length<150,o=r===this.previousMessage.node,a=n-this.previousMessage.time<1e3;return this.previousMessage.node=r,this.previousMessage.time=n,!(o&&i&&a)},i.prototype.sendMessage=function(n){var r=t.connectProjector(),i=r.io.engine.transport.name,a=Array.prototype.toJSON;delete Array.prototype.toJSON;var s=o.stringify(n);this.shouldEmit(n,s)&&r.emit("message",e.compress(s,"websocket"===i)),a&&(Array.prototype.toJSON=a)},i.prototype.sendInitMessage=function(){this.sendMessage({f:"initialize",args:Array.prototype.slice.call(arguments)})},i.prototype.sendUpdateMessage=function(){this.sendMessage({f:"applyChanged",args:Array.prototype.slice.call(arguments)})},i.prototype.sendDisabledMessage=function(){this.sendMessage({f:"disable"})},i}},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){function n(t){if(n[t]!==v)return n[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var h=e.stringify,u="function"==typeof h&&b;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===h(0)&&"0"===h(new r)&&'""'==h(new i)&&h(y)===v&&h(v)===v&&h()===v&&"1"===h(a)&&"[1]"==h([a])&&"[null]"==h([v])&&"null"==h(null)&&"[null,null,null]"==h([v,y,null])&&h({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===h(null,a)&&"[\n 1,\n 2\n]"==h([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==h(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==h(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==h(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==h(new c(-1))}catch(t){u=!1}}o=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){a=l(s);var f=5==a.a.length&&1===a.a[0];if(f){try{f=!l('"\t"')}catch(t){}if(f)try{f=1!==l("01")}catch(t){}if(f)try{f=1!==l("1.")}catch(t){}}}}catch(t){f=!1}o=f}}return n[t]=!!o}t||(t=h.Object()),e||(e=h.Object());var r=t.Number||h.Number,i=t.String||h.String,a=t.Object||h.Object,c=t.Date||h.Date,u=t.SyntaxError||h.SyntaxError,l=t.TypeError||h.TypeError,f=t.Math||h.Math,d=t.JSON||h.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p,g,v,m=a.prototype,y=m.toString,b=new c(-0xc782b5b800cec);try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}if(!n("json")){var w="[object Function]",_="[object Date]",E="[object Number]",k="[object String]",x="[object Array]",A="[object Boolean]",C=n("bug-string-char-index");if(!b)var S=f.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(t,e){return T[e]+365*(t-1970)+S((t-1969+(e=+(e>1)))/4)-S((t-1901+e)/100)+S((t-1601+e)/400)};if((p=m.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),g=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)p.call(r,i)&&o++;return n=r=null,o?g=2==o?function(t,e){var n,r={},i=y.call(t)==w;for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i=y.call(t)==w;for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var n,i,o=y.call(t)==w,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),g(t,e)},!n("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",j=function(t,e){return(M+(e||0)).slice(-t)},D="\\u00",P=function(t){for(var e='"',n=0,r=t.length,i=!C||r>10,o=i&&(C?t.split(""):t);n<r;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=O[a];break;default:if(a<32){e+=D+j(2,a.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},B=function(t,e,n,r,i,o,a){var s,c,h,u,f,d,m,b,w,C,T,O,M,D,I,z;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if(c=y.call(s),c!=_||p.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=E&&c!=k&&c!=x||p.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&s<1/0){if(N){for(f=S(s/864e5),h=S(f/365.2425)+1970-1;N(h+1,0)<=f;h++);for(u=S((f-N(h,0))/30.42);N(h,u+1)<=f;u++);f=1+f-N(h,u),d=(s%864e5+864e5)%864e5,m=S(d/36e5)%24,b=S(d/6e4)%60,w=S(d/1e3)%60,C=d%1e3}else h=s.getUTCFullYear(),u=s.getUTCMonth(),f=s.getUTCDate(),m=s.getUTCHours(),b=s.getUTCMinutes(),w=s.getUTCSeconds(),C=s.getUTCMilliseconds();s=(h<=0||h>=1e4?(h<0?"-":"+")+j(6,h<0?-h:h):j(4,h))+"-"+j(2,u+1)+"-"+j(2,f)+"T"+j(2,m)+":"+j(2,b)+":"+j(2,w)+"."+j(3,C)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if(c=y.call(s),c==A)return""+s;if(c==E)return s>-1/0&&s<1/0?""+s:"null";if(c==k)return P(""+s);if("object"==typeof s){for(D=a.length;D--;)if(a[D]===s)throw l();if(a.push(s),T=[],I=o,o+=i,c==x){for(M=0,D=s.length;M<D;M++)O=B(M,s,n,r,i,o,a),T.push(O===v?"null":O);z=T.length?i?"[\n"+o+T.join(",\n"+o)+"\n"+I+"]":"["+T.join(",")+"]":"[]"}else g(r||s,function(t){var e=B(t,s,n,r,i,o,a);e!==v&&T.push(P(t)+":"+(i?" ":"")+e)}),z=T.length?i?"{\n"+o+T.join(",\n"+o)+"\n"+I+"}":"{"+T.join(",")+"}":"{}";return a.pop(),z}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if((a=y.call(e))==w)i=e;else if(a==x){o={};for(var c,h=0,u=e.length;h<u;c=e[h++],a=y.call(c),(a==k||a==E)&&(o[c]=1));}if(n)if((a=y.call(n))==E){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==k&&(r=n.length<=10?n:n.slice(0,10));return B("",(c={},c[""]=t,c),i,o,r,"",[])}}if(!n("json-parse")){var I,z,R=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},H=function(){throw I=z=null,u()},U=function(){for(var t,e,n,r,i,o=z,a=o.length;I<a;)switch(i=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=C?o.charAt(I):o[I],I++,t;case 34:for(t="@",I++;I<a;)if(i=o.charCodeAt(I),i<32)H();else if(92==i)switch(i=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[i],I++;break;case 117:for(e=++I,n=I+4;I<n;I++)i=o.charCodeAt(I),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||H();t+=R("0x"+o.slice(e,I));break;default:H()}else{if(34==i)break;for(i=o.charCodeAt(I),e=I;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++I);t+=o.slice(e,I)}if(34==o.charCodeAt(I))return I++,t;H();default:if(e=I,45==i&&(r=!0,i=o.charCodeAt(++I)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(I+1),i>=48&&i<=57)&&H(),r=!1;I<a&&(i=o.charCodeAt(I),i>=48&&i<=57);I++);if(46==o.charCodeAt(I)){for(n=++I;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==I&&H(),I=n}if(i=o.charCodeAt(I),101==i||69==i){for(i=o.charCodeAt(++I),43!=i&&45!=i||I++,n=I;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==I&&H(),I=n}return+o.slice(e,I)}if(r&&H(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;H()}return"$"},q=function(t){var e,n;if("$"==t&&H(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=U(),"]"!=t;n||(n=!0))n&&(","==t?(t=U(),"]"==t&&H()):H()),","==t&&H(),e.push(q(t));return e}if("{"==t){for(e={};t=U(),"}"!=t;n||(n=!0))n&&(","==t?(t=U(),"}"==t&&H()):H()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==U()||H(),e[t.slice(1)]=q(U());return e}H()}return t},$=function(t,e,n){var r=X(t,e,n);r===v?delete t[e]:t[e]=r},X=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(y.call(i)==x)for(r=i.length;r--;)$(i,r,n);else g(i,function(t){$(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return I=0,z=""+t,n=q(U()),"$"!=U()&&H(),I=z=null,e&&y.call(e)==w?X((r={},r[""]=n,r),"",e):n}}}return e.runInContext=o,e}var a=n(2),s={function:!0,object:!0},c=s[typeof e]&&e&&!e.nodeType&&e,h=s[typeof window]&&window||this,u=c&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof i&&i;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(h=u),c&&!a)o(h,c);else{var l=h.JSON,f=h.JSON3,d=!1,p=o(h,h.JSON3={noConflict:function(){return d||(d=!0,h.JSON=l,h.JSON3=f,l=f=null),p}});h.JSON={parse:p.parse,stringify:p.stringify}}a&&(r=function(){return p}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}).call(this)}).call(e,n(5)(t),function(){return this}())},function(t,e,n){t.exports=function(t,e,r,i,o,a){function s(t,n){if(this.doc="undefined"!=typeof t.documentElement?t:t.ownerDocument,this.options=n,this.emitter=new r,a("html.idz_mirroring_disabled").length>0)return void this.emitter.sendDisabledMessage();this.dmp=new h,this.domPage={},this.iframesData=o.iframes.getInitialData(),this.canvasData=o.canvas.getInitialData(),this.parseDom(),this.emitter.sendInitMessage(this.domPage);var i=this,s=this.doc.querySelector("html").className.match(/idz_mirroring_refresh_(\d+)/),c=s&&s.length?parseInt(s[1],10):e.textTree.updateInterval;
!function t(){i.applyChanged(),i.timeoutID=setTimeout(t,c)}()}var c=n(35).noConflict(),h=n(37);return s.prototype={applyChanged:function(){var t=a.extend(!0,{},this.domPage);this.parseDom();var e=this.patchDomPage(t,this.domPage),n=o.iframes.applyPatch(t,this.domPage,e,this.patchDomPage,this.hasChanges,this.serializePatch,this);(this.hasChanges(e)||n)&&this.emitter.sendUpdateMessage(this.serializePatch(e))},disconnect:function(){clearTimeout(this.timeoutID)},parseDom:function(){var t=a(this.doc.documentElement),e=t.find("head"),n=t.find("body");o.inputs.serialize(n),o.canvas.serialize(this.canvasData),o.iframes.serialize(this.iframesData,this.domPage,n,a.proxy(this.serializeDomPage,this,this.options.excludedElements)),o.hiddenElements.markAll(),a.extend(this.domPage,this.serializeDomPage(this.options.excludedElements,t,e,n))},getSafeAttributes:function(t){var e={};return a.each(t.attributes,function(t,n){n.name&&0!==n.name.toLowerCase().indexOf("on")&&(e[n.name]=n.value)}),e},cloneElement:function(t){var e=a(document.createElement(t.nodeName)),n=a.parseHTML(t.innerHTML.replace(/<script[^>]*>([\S\s]*?)<\/script\s*>/gi,""));return n&&a.each(n,function(t,n){var r=a(n);r=o.hiddenElements.changeNodeAttributes(r),r.find("img").addBack("img").each(function(){var t=a(this);t.attr("src")&&t.attr("src",i.toAbsolute(t.attr("src"))),t.attr("onerror")&&t.removeAttr("onerror")}),e[0].appendChild(r[0])}),e},serializeDomPage:function(t,e,n,r){var i=this.cloneElement(r[0]);return i.find(t).remove(),{htmlAttr:c.stringify(this.getSafeAttributes(e[0])),headAttr:c.stringify(this.getSafeAttributes(n[0])),bodyAttr:c.stringify(this.getSafeAttributes(r[0])),headHtml:n.html().replace(/<script[^>]*>([\S\s]*?)<\/script\s*>/gi,"")||"",bodyHtml:i.html()||""}},patchDomPage:function(t,e){return{htmlAttr:this.dmp.patch_make(t.htmlAttr,e.htmlAttr),headAttr:this.dmp.patch_make(t.headAttr,e.headAttr),bodyAttr:this.dmp.patch_make(t.bodyAttr,e.bodyAttr),headHtml:this.dmp.patch_make(t.headHtml,e.headHtml),bodyHtml:this.dmp.patch_make(t.bodyHtml,e.bodyHtml)}},hasChanges:function(t){return t.htmlAttr.length||t.headAttr.length||t.bodyAttr.length||t.headHtml.length||t.bodyHtml.length},serializePatch:function(t){return t.htmlAttr=this.dmp.patch_toText(t.htmlAttr),t.headAttr=this.dmp.patch_toText(t.headAttr),t.bodyAttr=this.dmp.patch_toText(t.bodyAttr),t.headHtml=this.dmp.patch_toText(t.headHtml),t.bodyHtml=this.dmp.patch_toText(t.bodyHtml),t}},s}},function(t,e){"use strict";function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var r=-1,i=1,o=0;n.Diff,n.prototype.diff_main=function(t,e,n,r){"undefined"==typeof r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[o,t]]:[];"undefined"==typeof n&&(n=!0);var a=n,s=this.diff_commonPrefix(t,e),c=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var h=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var u=this.diff_compute_(t,e,a,i);return c&&u.unshift([o,c]),h&&u.push([o,h]),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(t,e,n,a){var s;if(!t)return[[i,e]];if(!e)return[[r,t]];var c=t.length>e.length?t:e,h=t.length>e.length?e:t,u=c.indexOf(h);if(u!=-1)return s=[[i,c.substring(0,u)],[o,h],[i,c.substring(u+h.length)]],t.length>e.length&&(s[0][0]=s[2][0]=r),s;if(1==h.length)return[[r,t],[i,e]];var l=this.diff_halfMatch_(t,e);if(l){var f=l[0],d=l[1],p=l[2],g=l[3],v=l[4],m=this.diff_main(f,p,n,a),y=this.diff_main(d,g,n,a);return m.concat([[o,v]],y)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,a):this.diff_bisect_(t,e,a)},n.prototype.diff_lineMode_=function(t,e,n){var a=this.diff_linesToChars_(t,e);t=a.chars1,e=a.chars2;var s=a.lineArray,c=this.diff_main(t,e,!1,n);this.diff_charsToLines_(c,s),this.diff_cleanupSemantic(c),c.push([o,""]);for(var h=0,u=0,l=0,f="",d="";h<c.length;){switch(c[h][0]){case i:l++,d+=c[h][1];break;case r:u++,f+=c[h][1];break;case o:if(u>=1&&l>=1){c.splice(h-u-l,u+l),h=h-u-l;for(var a=this.diff_main(f,d,!1,n),p=a.length-1;p>=0;p--)c.splice(h,0,a[p]);h+=a.length}l=0,u=0,f="",d=""}h++}return c.pop(),c},n.prototype.diff_bisect_=function(t,e,n){for(var o=t.length,a=e.length,s=Math.ceil((o+a)/2),c=s,h=2*s,u=new Array(h),l=new Array(h),f=0;f<h;f++)u[f]=-1,l[f]=-1;u[c+1]=0,l[c+1]=0;for(var d=o-a,p=d%2!=0,g=0,v=0,m=0,y=0,b=0;b<s&&!((new Date).getTime()>n);b++){for(var w=-b+g;w<=b-v;w+=2){var _,E=c+w;_=w==-b||w!=b&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1;for(var k=_-w;_<o&&k<a&&t.charAt(_)==e.charAt(k);)_++,k++;if(u[E]=_,_>o)v+=2;else if(k>a)g+=2;else if(p){var x=c+d-w;if(x>=0&&x<h&&l[x]!=-1){var A=o-l[x];if(_>=A)return this.diff_bisectSplit_(t,e,_,k,n)}}}for(var C=-b+m;C<=b-y;C+=2){var A,x=c+C;A=C==-b||C!=b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1;for(var S=A-C;A<o&&S<a&&t.charAt(o-A-1)==e.charAt(a-S-1);)A++,S++;if(l[x]=A,A>o)y+=2;else if(S>a)m+=2;else if(!p){var E=c+d-C;if(E>=0&&E<h&&u[E]!=-1){var _=u[E],k=c+_-E;if(A=o-A,_>=A)return this.diff_bisectSplit_(t,e,_,k,n)}}}}return[[r,t],[i,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),h=this.diff_main(o,a,!1,i),u=this.diff_main(s,c,!1,i);return h.concat(u)},n.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,o=-1,a=r.length;o<t.length-1;){o=t.indexOf("\n",n),o==-1&&(o=t.length-1);var s=t.substring(n,o+1);n=o+1,(i.hasOwnProperty?i.hasOwnProperty(s):void 0!==i[s])?e+=String.fromCharCode(i[s]):(e+=String.fromCharCode(a),i[s]=a,r[a++]=s)}return e}var r=[],i={};r[0]="";var o=n(t),a=n(e);return{chars1:o,chars2:a,lineArray:r}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,a=1;;){var s=t.substring(i-a),c=e.indexOf(s);if(c==-1)return o;a+=c,0!=c&&t.substring(i-a)!=e.substring(0,a)||(o=a,a++)}},n.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var r,i,o,s,c=t.substring(n,n+Math.floor(t.length/4)),h=-1,u="";(h=e.indexOf(c,h+1))!=-1;){var l=a.diff_commonPrefix(t.substring(n),e.substring(h)),f=a.diff_commonSuffix(t.substring(0,n),e.substring(0,h));u.length<f+l&&(u=e.substring(h-f,h)+e.substring(h,h+l),r=t.substring(0,n-f),i=t.substring(n+l),o=e.substring(0,h-f),s=e.substring(h+l))}return 2*u.length>=t.length?[r,i,o,s,u]:null}if(this.Diff_Timeout<=0)return null;var r=t.length>e.length?t:e,i=t.length>e.length?e:t;if(r.length<4||2*i.length<r.length)return null;var o,a=this,s=n(r,i,Math.ceil(r.length/4)),c=n(r,i,Math.ceil(r.length/2));if(!s&&!c)return null;o=c?s&&s[4].length>c[4].length?s:c:s;var h,u,l,f;t.length>e.length?(h=o[0],u=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],h=o[2],u=o[3]);var d=o[4];return[h,u,l,f,d]},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],a=0,s=null,c=0,h=0,u=0,l=0,f=0;c<t.length;)t[c][0]==o?(n[a++]=c,h=l,u=f,l=0,f=0,s=t[c][1]):(t[c][0]==i?l+=t[c][1].length:f+=t[c][1].length,s&&s.length<=Math.max(h,u)&&s.length<=Math.max(l,f)&&(t.splice(n[a-1],0,[r,s]),t[n[a-1]+1][0]=i,a--,a--,c=a>0?n[a-1]:-1,h=0,u=0,l=0,f=0,s=null,e=!0)),c++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),c=1;c<t.length;){if(t[c-1][0]==r&&t[c][0]==i){var d=t[c-1][1],p=t[c][1],g=this.diff_commonOverlap_(d,p),v=this.diff_commonOverlap_(p,d);g>=v?(g>=d.length/2||g>=p.length/2)&&(t.splice(c,0,[o,p.substring(0,g)]),t[c-1][1]=d.substring(0,d.length-g),t[c+1][1]=p.substring(g),c++):(v>=d.length/2||v>=p.length/2)&&(t.splice(c,0,[o,d.substring(0,v)]),t[c-1][0]=i,t[c-1][1]=p.substring(0,p.length-v),t[c+1][0]=r,t[c+1][1]=d.substring(v),c++),c++}c++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),i=e.charAt(0),o=r.match(n.nonAlphaNumericRegex_),a=i.match(n.nonAlphaNumericRegex_),s=o&&r.match(n.whitespaceRegex_),c=a&&i.match(n.whitespaceRegex_),h=s&&r.match(n.linebreakRegex_),u=c&&i.match(n.linebreakRegex_),l=h&&t.match(n.blanklineEndRegex_),f=u&&e.match(n.blanklineStartRegex_);return l||f?5:h||u?4:o&&!s&&c?3:s||c?2:o||a?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==o&&t[r+1][0]==o){var i=t[r-1][1],a=t[r][1],s=t[r+1][1],c=this.diff_commonSuffix(i,a);if(c){var h=a.substring(a.length-c);i=i.substring(0,i.length-c),a=h+a.substring(0,a.length-c),s=h+s}for(var u=i,l=a,f=s,d=e(i,a)+e(a,s);a.charAt(0)===s.charAt(0);){i+=a.charAt(0),a=a.substring(1)+s.charAt(0),s=s.substring(1);var p=e(i,a)+e(a,s);p>=d&&(d=p,u=i,l=a,f=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=l,f?t[r+1][1]=f:(t.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],a=0,s=null,c=0,h=!1,u=!1,l=!1,f=!1;c<t.length;)t[c][0]==o?(t[c][1].length<this.Diff_EditCost&&(l||f)?(n[a++]=c,h=l,u=f,s=t[c][1]):(a=0,s=null),l=f=!1):(t[c][0]==r?f=!0:l=!0,s&&(h&&u&&l&&f||s.length<this.Diff_EditCost/2&&h+u+l+f==3)&&(t.splice(n[a-1],0,[r,s]),t[n[a-1]+1][0]=i,a--,s=null,h&&u?(l=f=!0,a=0):(a--,c=a>0?n[a-1]:-1,l=f=!1),e=!0)),c++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([o,""]);for(var e,n=0,a=0,s=0,c="",h="";n<t.length;)switch(t[n][0]){case i:s++,h+=t[n][1],n++;break;case r:a++,c+=t[n][1],n++;break;case o:a+s>1?(0!==a&&0!==s&&(e=this.diff_commonPrefix(h,c),0!==e&&(n-a-s>0&&t[n-a-s-1][0]==o?t[n-a-s-1][1]+=h.substring(0,e):(t.splice(0,0,[o,h.substring(0,e)]),n++),h=h.substring(e),c=c.substring(e)),e=this.diff_commonSuffix(h,c),0!==e&&(t[n][1]=h.substring(h.length-e)+t[n][1],h=h.substring(0,h.length-e),c=c.substring(0,c.length-e))),0===a?t.splice(n-s,a+s,[i,h]):0===s?t.splice(n-a,a+s,[r,c]):t.splice(n-a-s,a+s,[r,c],[i,h]),n=n-a-s+(a?1:0)+(s?1:0)+1):0!==n&&t[n-1][0]==o?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,s=0,a=0,c="",h=""}""===t[t.length-1][1]&&t.pop();var u=!1;for(n=1;n<t.length-1;)t[n-1][0]==o&&t[n+1][0]==o&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),u=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),u=!0)),n++;u&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,o=0,a=0,s=0,c=0;for(n=0;n<t.length&&(t[n][0]!==i&&(o+=t[n][1].length),t[n][0]!==r&&(a+=t[n][1].length),!(o>e));n++)s=o,c=a;return t.length!=n&&t[n][0]===r?c:c+(e-s)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,a=/</g,s=/>/g,c=/\n/g,h=0;h<t.length;h++){var u=t[h][0],l=t[h][1],f=l.replace(n,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(c,"&para;<br>");switch(u){case i:e[h]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case r:e[h]='<del style="background:#ffe6e6;">'+f+"</del>";break;case o:e[h]="<span>"+f+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==i&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==r&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,a=0,s=0;s<t.length;s++){var c=t[s][0],h=t[s][1];switch(c){case i:n+=h.length;break;case r:a+=h.length;break;case o:e+=Math.max(n,a),n=0,a=0}}return e+=Math.max(n,a)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case i:e[n]="+"+encodeURI(t[n][1]);break;case r:e[n]="-"+t[n][1].length;break;case o:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],a=0,s=0,c=e.split(/\t/g),h=0;h<c.length;h++){var u=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{n[a++]=[i,decodeURI(u)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var l=parseInt(u,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+u);var f=t.substring(s,s+=l);"="==c[h].charAt(0)?n[a++]=[o,f]:n[a++]=[r,f];break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(s!=t.length)throw new Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){function r(t,r){var i=t/e.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(e),o=this,a=this.Match_Threshold,s=t.indexOf(e,n);s!=-1&&(a=Math.min(r(0,s),a),s=t.lastIndexOf(e,n+e.length),s!=-1&&(a=Math.min(r(0,s),a)));var c=1<<e.length-1;s=-1;for(var h,u,l,f=e.length+t.length,d=0;d<e.length;d++){for(h=0,u=f;h<u;)r(d,n+u)<=a?h=u:f=u,u=Math.floor((f-h)/2+h);f=u;var p=Math.max(1,n-u+1),g=Math.min(n+u,t.length)+e.length,v=Array(g+2);v[g+1]=(1<<d)-1;for(var m=g;m>=p;m--){var y=i[t.charAt(m-1)];if(0===d?v[m]=(v[m+1]<<1|1)&y:v[m]=(v[m+1]<<1|1)&y|((l[m+1]|l[m])<<1|1)|l[m+1],v[m]&c){var b=r(d,m-1);if(b<=a){if(a=b,s=m-1,!(s>n))break;p=Math.max(1,2*n-s)}}}if(r(d+1,n)>a)break;l=v}return s},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(var n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var i=e.substring(t.start2-r,t.start2);i&&t.diffs.unshift([o,i]);var a=e.substring(t.start2+t.length1,t.start2+t.length1+r);a&&t.diffs.push([o,a]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+a.length,t.length2+=i.length+a.length}},n.prototype.patch_make=function(t,e,a){var s,c;if("string"==typeof t&&"string"==typeof e&&"undefined"==typeof a)s=t,c=this.diff_main(s,e,!0),c.length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(t&&"object"==typeof t&&"undefined"==typeof e&&"undefined"==typeof a)c=t,s=this.diff_text1(c);else if("string"==typeof t&&e&&"object"==typeof e&&"undefined"==typeof a)s=t,c=e;else{if("string"!=typeof t||"string"!=typeof e||!a||"object"!=typeof a)throw new Error("Unknown call format to patch_make.");s=t,c=a}if(0===c.length)return[];for(var h=[],u=new n.patch_obj,l=0,f=0,d=0,p=s,g=s,v=0;v<c.length;v++){var m=c[v][0],y=c[v][1];switch(l||m===o||(u.start1=f,u.start2=d),m){case i:u.diffs[l++]=c[v],u.length2+=y.length,g=g.substring(0,d)+y+g.substring(d);break;case r:u.length1+=y.length,u.diffs[l++]=c[v],g=g.substring(0,d)+g.substring(d+y.length);break;case o:y.length<=2*this.Patch_Margin&&l&&c.length!=v+1?(u.diffs[l++]=c[v],u.length1+=y.length,u.length2+=y.length):y.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(u,p),h.push(u),u=new n.patch_obj,l=0,p=g,f=d)}m!==i&&(f+=y.length),m!==r&&(d+=y.length)}return l&&(this.patch_addContext_(u,p),h.push(u)),h},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=new n.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[r]=o}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var a=0,s=[],c=0;c<t.length;c++){var h,u=t[c].start2+a,l=this.diff_text1(t[c].diffs),f=-1;if(l.length>this.Match_MaxBits?(h=this.match_main(e,l.substring(0,this.Match_MaxBits),u),h!=-1&&(f=this.match_main(e,l.substring(l.length-this.Match_MaxBits),u+l.length-this.Match_MaxBits),(f==-1||h>=f)&&(h=-1))):h=this.match_main(e,l,u),h==-1)s[c]=!1,a-=t[c].length2-t[c].length1;else{s[c]=!0,a=h-u;var d;if(d=f==-1?e.substring(h,h+l.length):e.substring(h,f+this.Match_MaxBits),l==d)e=e.substring(0,h)+this.diff_text2(t[c].diffs)+e.substring(h+l.length);else{var p=this.diff_main(l,d,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(p)/l.length>this.Patch_DeleteThreshold)s[c]=!1;else{this.diff_cleanupSemanticLossless(p);for(var g,v=0,m=0;m<t[c].diffs.length;m++){var y=t[c].diffs[m];y[0]!==o&&(g=this.diff_xIndex(p,v)),y[0]===i?e=e.substring(0,h+g)+y[1]+e.substring(h+g):y[0]===r&&(e=e.substring(0,h+g)+e.substring(h+this.diff_xIndex(p,v+y[1].length))),y[0]!==r&&(v+=y[1].length)}}}}}return e=e.substring(n.length,e.length-n.length),[e,s]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(var r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=t[0],a=i.diffs;if(0==a.length||a[0][0]!=o)a.unshift([o,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>a[0][1].length){var s=e-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(i=t[t.length-1],a=i.diffs,0==a.length||a[a.length-1][0]!=o)a.push([o,n]),i.length1+=e,i.length2+=e;else if(e>a[a.length-1][1].length){var s=e-a[a.length-1][1].length;a[a.length-1][1]+=n.substring(0,s),i.length1+=s,i.length2+=s}return n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,a=0;a<t.length;a++)if(!(t[a].length1<=e)){var s=t[a];t.splice(a--,1);for(var c=s.start1,h=s.start2,u="";0!==s.diffs.length;){var l=new n.patch_obj,f=!0;for(l.start1=c-u.length,l.start2=h-u.length,""!==u&&(l.length1=l.length2=u.length,l.diffs.push([o,u]));0!==s.diffs.length&&l.length1<e-this.Patch_Margin;){var d=s.diffs[0][0],p=s.diffs[0][1];d===i?(l.length2+=p.length,h+=p.length,l.diffs.push(s.diffs.shift()),f=!1):d===r&&1==l.diffs.length&&l.diffs[0][0]==o&&p.length>2*e?(l.length1+=p.length,c+=p.length,f=!1,l.diffs.push([d,p]),s.diffs.shift()):(p=p.substring(0,e-l.length1-this.Patch_Margin),l.length1+=p.length,c+=p.length,d===o?(l.length2+=p.length,h+=p.length):f=!1,l.diffs.push([d,p]),p==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(p.length))}u=this.diff_text2(l.diffs),u=u.substring(u.length-this.Patch_Margin);var g=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);""!==g&&(l.length1+=g.length,l.length2+=g.length,0!==l.diffs.length&&l.diffs[l.diffs.length-1][0]===o?l.diffs[l.diffs.length-1][1]+=g:l.diffs.push([o,g])),f||t.splice(++a,0,l)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var a=t.split("\n"),s=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<a.length;){var h=a[s].match(c);if(!h)throw new Error("Invalid patch string: "+a[s]);var u=new n.patch_obj;for(e.push(u),u.start1=parseInt(h[1],10),""===h[2]?(u.start1--,u.length1=1):"0"==h[2]?u.length1=0:(u.start1--,u.length1=parseInt(h[2],10)),u.start2=parseInt(h[3],10),""===h[4]?(u.start2--,u.length2=1):"0"==h[4]?u.length2=0:(u.start2--,u.length2=parseInt(h[4],10)),s++;s<a.length;){var l=a[s].charAt(0);try{var f=decodeURI(a[s].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+f)}if("-"==l)u.diffs.push([r,f]);else if("+"==l)u.diffs.push([i,f]);else if(" "==l)u.diffs.push([o,f]);else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+f)}s++}}return e},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var t,e;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,a=["@@ -"+t+" +"+e+" @@\n"],s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case i:n="+";break;case r:n="-";break;case o:n=" "}a[s+1]=n+encodeURI(this.diffs[s][1])+"\n"}return a.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=r,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=o},function(t,e,n){t.exports=function(t,e,r,i,o,a){function s(t,e){if(this.target=t,this.options=e,this.emitter=new r,a("html.idz_mirroring_disabled").length>0)return void this.emitter.sendDisabledMessage();this.knownNodes=new MutationSummary.NodeMap,this.observers=[a.noop()],this.canvasData=o.canvas.getInitialData();for(var n,i=this.serializeNode(t).id,s=[],c=t.firstChild;c;c=c.nextSibling)n=this.serializeNode(c,!0),null!==n&&s.push(n);this.emitter.sendInitMessage(i,s),this.observeElement(t,0)}function c(t,e,n){var r=[];return t.forEach(function(t){var i=e.call(n,t);null!==i&&r.push(i)}),r}n(39);var h={FIRST:"first",LAST:"last",RANGE:"range"};return s.prototype={nextId:1,observeElement:function(t,e){this.observers[e]=new MutationSummary({rootNode:t,callback:a.proxy(this.applyChanged,this),queries:[{all:!0}]})},isNodeExcluded:function(t){var e;return t.nodeType===Node.ELEMENT_NODE?e=a(t):t.nodeType===Node.TEXT_NODE&&(e=a(t).parent()),e&&e.closest(this.options.excludedElements).length},disconnect:function(){this.observers.forEach(function(t){t.disconnect()})},rememberNode:function(t){var e=this.nextId++;return this.knownNodes.set(t,e),e},forgetNode:function(t){delete this.knownNodes.delete(t)},serializeNode:function(t,e,n){if(null===t)return null;if(t.nodeType===Node.COMMENT_NODE)return null;if(n&&this.isNodeExcluded(n))return null;if(this.isNodeExcluded(t))return null;var r=this.knownNodes.get(t);if(void 0!==r)return r;var s=!0,c={nodeType:t.nodeType};switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:c.name=t.name,c.publicId=t.publicId,c.systemId=t.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:c.textContent=t.textContent;break;case Node.ELEMENT_NODE:c.tagName=t.tagName,c.attributes={};for(var h=0;h<t.attributes.length;h++){var u=t.attributes.item(h);i.isProxyfiedAttribute(t.tagName,u.name)?c.attributes[u.name]=i.toAbsolute(u.value,u.name):c.attributes[u.name]=u.value}if(c.isHidden=o.hiddenElements.isHidden(t),c.isHidden&&(s=!1,"INPUT"!==c.tagName)){c=o.hiddenElements.changeNodeAttributes(c,a(t));break}if(o.inputs.serialize(c,t),"CANVAS"===t.tagName&&o.canvas.serialize(this.canvasData,n),"IFRAME"===t.tagName&&o.iframes.isMirrored(t)){s=!1;var l=a.proxy(this.observeElement,this,t.contentDocument);o.iframes.serialize(c,t,this.observers,this.serializeNode,this,l)}if(e&&t.childNodes.length&&!c.isHidden){c.childNodes=[];for(var f=t.firstChild;f;f=f.nextSibling){var d=this.serializeNode(f,!0);null!==d&&c.childNodes.push(d)}}}return s&&(c.id=this.rememberNode(t)),c},serializePreviousNodeOrGetId:function(t){for(;t=t.previousSibling;){var e=this.serializeNode(t);if(e)return e}},serializeAddedAndMoved:function(t){var e=t.added.concat(t.reparented).concat(t.reordered),n=new MutationSummary.NodeMap;e.forEach(function(t){var e=t.parentNode,r=n.get(e);r||(r=new MutationSummary.NodeMap,n.set(e,r)),r.set(t,!0)});var r=[];return n.keys().forEach(function(t){for(var e=n.get(t),i=e.keys();i.length;){for(var o=i[0];o.previousSibling&&e.has(o.previousSibling);)o=o.previousSibling;for(;o&&e.has(o);){var a=this.serializeNode(o);if(null!==a){var s=o===o.parentNode.firstChild,c=o===o.parentNode.lastChild,u={node:a,parentNode:this.serializeNode(o.parentNode),type:s?h.FIRST:c?h.LAST:h.RANGE};u.type===h.RANGE&&(u.previousSibling=this.serializePreviousNodeOrGetId(o)),r.push(u)}e.delete(o),o=o.nextSibling}i=e.keys()}},this),r},serializeAttributeChanges:function(t){var e=new MutationSummary.NodeMap;return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var r=e.get(t);if(!r){var o=this.serializeNode(t);null===o||o.isHidden||(r={node:o,attributes:{}},e.set(t,r))}r&&(i.isProxyfiedAttribute(t.tagName,n)?r.attributes[n]=i.toAbsolute(t.getAttribute(n),n):r.attributes[n]=t.getAttribute(n))},this)},this),e.keys().map(function(t){return e.get(t)})},serializeCharacterDataChange:function(t){var e=this.serializeNode(t);return null===e?null:{node:e,textContent:t.textContent}},serializeRemovedNodes:function(t,e){return c(e,function(e){var n=t.getOldParentNode(e);return t.removed.indexOf(n)!==-1?null:this.serializeNode(e,void 0,n)},this)},applyChanged:function(t){var e=t[0],n=this.serializeRemovedNodes(e,e.removed),r=this.serializeAddedAndMoved(e),i=this.serializeAttributeChanges(e.attributeChanged),o=c(e.characterDataChanged,this.serializeCharacterDataChange,this);(n.length||r.length||i.length||o.length)&&this.emitter.sendUpdateMessage(n,r,i,o),e.removed.forEach(this.forgetNode,this)}},s}},function(t,e){!function(t){"use strict";function e(t){return!t[g]&&(t[g]=v++,!0)}function n(){this.map_={}}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(t,e,n,r){this.rootNode=t,this.elementFilter=e,this.calcReordered=n,this.calcOldPreviousSibling=r}function o(t){function e(){i&&(o&&(i.qualifiers.push(o),o=void 0),s.push(i)),i={qualifiers:[]}}function n(){o&&i.qualifiers.push(o),o={}}function r(t){return'"'+t.replace(/"/,'\\"')+'"'}for(var i,o,a,s=[],c=/\s/,h="Invalid or unsupported selector syntax.",u=1,l=2,f=3,d=4,p=5,g=6,v=7,m=8,y=9,b=10,w=11,_=12,E=13,k=14,C=u,S=0;S<t.length;){var T=t[S++];switch(C){case u:if(T.match(x)){e(),i.tagName=T,C=l;break}if("*"==T){e(),i.tagName="*",C=f;break}if("."==T){e(),n(),i.tagName="*",o.class=!0,C=d;break}if("#"==T){e(),n(),i.tagName="*",o.id=!0,C=d;break}if("["==T){e(),n(),i.tagName="*",o.attrName="",C=g;break}if(T.match(c))break;throw Error(h);case l:if(T.match(A)){i.tagName+=T;break}if("."==T){n(),o.class=!0,C=d;break}if("#"==T){n(),o.id=!0,C=d;break}if("["==T){n(),o.attrName="",C=g;break}if(T.match(c)){C=k;break}if(","==T){C=u;break}throw Error(h);case f:if("."==T){n(),o.class=!0,C=d;break}if("#"==T){n(),o.id=!0,C=d;break}if("["==T){n(),o.attrName="",C=g;break}if(T.match(c)){C=k;break}if(","==T){C=u;break}throw Error(h);case d:if(T.match(x)){o.attrValue=T,C=p;break}throw Error(h);case p:if(T.match(A)){o.attrValue+=T;break}if("."==T){n(),o.class=!0,C=d;break}if("#"==T){n(),o.id=!0,C=d;break}if("["==T){n(),C=g;break}if(T.match(c)){C=k;break}if(","==T){C=u;break}throw Error(h);case g:if(T.match(x)){o.attrName=T,C=v;break}if(T.match(c))break;throw Error(h);case v:if(T.match(A)){o.attrName+=T;break}if(T.match(c)){C=m;break}if("~"==T){o.contains=!0,C=y;break}if("="==T){o.attrValue="",C=w;break}if("]"==T){C=f;break}throw Error(h);case m:if("~"==T){o.contains=!0,C=y;break}if("="==T){o.attrValue="",C=w;break}if("]"==T){C=f;break}if(T.match(c))break;throw Error(h);case y:if("="==T){o.attrValue="",C=w;break}throw Error(h);case b:if("]"==T){C=f;break}if(T.match(c))break;throw Error(h);case w:if(T.match(c))break;if('"'==T||"'"==T){a=T,C=E;break}o.attrValue+=T,C=_;break;case _:if(T.match(c)){C=b;break}if("]"==T){C=f;break}if("'"==T||'"'==T)throw Error(h);o.attrValue+=T;break;case E:if(T==a){C=b;break}o.attrValue+=T;break;case k:if(T.match(c))break;if(","==T){C=u;break}throw Error(h)}}switch(C){case u:case l:case f:case p:case k:e();break;default:throw Error(h)}if(!s.length)throw Error(h);return s.forEach(function(t){var e=t.tagName.toUpperCase();t.tagName!=e&&(t.caseInsensitiveTagName=e);var n=t.tagName;t.qualifiers.forEach(function(t){if(t.class)n+="."+t.attrValue;else if(t.id)n+="#"+t.attrValue;else{var e=t.attrName.toLowerCase();t.attrName!=e&&(t.caseInsensitiveAttrName=e),t.contains?n+="["+t.attrName+"~="+r(t.attrValue)+"]":(n+="["+t.attrName,t.hasOwnProperty("attrValue")&&(n+="="+r(t.attrValue)),n+="]")}}),t.selectorString=n}),s}function a(t){if("string"!=typeof t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(t=t.trim(),!t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!t.match(C))throw Error("Invalid request option. invalid attribute name: "+t);return t}function s(t){if(!t.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var e={},n={},r=t.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(o){var o=a(o);if(e.hasOwnProperty(o.toLowerCase()))throw Error("Invalid request option: observing multiple case varitations of the same attribute is not supported.");n[o]=!0,e[o.toLowerCase()]=!0}}return Object.keys(n)}function c(t){var e={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},n={};for(var r in t)if(!(r in e))throw Error("Invalid option: "+r);if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");if(n.callback=t.callback,n.rootNode=t.rootNode||document,n.observeOwnChanges=t.observeOwnChanges,n.oldPreviousSibling=t.oldPreviousSibling,!t.queries||!t.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");n.queries=[];for(var i=0;i<t.queries.length;i++){var c=t.queries[i];if(c.all){if(Object.keys(c).length>1)throw Error("Invalid request option. all has no options.");n.queries.push({all:!0})}else if(c.hasOwnProperty("attribute")){var h={attribute:a(c.attribute)};if(h.elementFilter=o("*["+h.attribute+"]"),Object.keys(c).length>1)throw Error("Invalid request option. attribute has no options.");n.queries.push(h)}else if(c.hasOwnProperty("element")){var u=Object.keys(c).length,h={element:c.element,elementFilter:o(c.element)};if(c.hasOwnProperty("elementAttributes")&&(h.elementAttributes=s(c.elementAttributes),u--),u>1)throw Error("Invalid request option. element only allows elementAttributes option.");n.queries.push(h)}else{if(!c.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(c).length>1)throw Error("Invalid request option. characterData has no options.");n.queries.push({characterData:!0})}}return n}function h(t){var e={};return t.forEach(function(t){t.qualifiers.forEach(function(t){t.class?e.class=!0:t.id?e.id=!0:e[t.attrName]=!0})}),Object.keys(e)}function u(t){function e(t){if(!r.attributes||n){if(r.attributes=!0,r.attributeOldValue=!0,!t)return void(n=void 0);n=n||{},t.forEach(function(t){n[t]=!0,n[t.toLowerCase()]=!0})}}var n,r={childList:!0,subtree:!0};return t.forEach(function(t){if(t.characterData)return r.characterData=!0,void(r.characterDataOldValue=!0);if(t.all)return e(),r.characterData=!0,void(r.characterDataOldValue=!0);if(t.attribute)return void e([t.attribute.trim()]);t.elementFilter&&t.elementFilter.some(function(t){return t.className})&&e(["class"]);var n=h(t.elementFilter).concat(t.elementAttributes||[]);n.length&&e(n)}),n&&(r.attributeFilter=Object.keys(n)),r}function l(t,e,n){t.elementFilter=n.elementFilter,t.filterCharacterData=n.characterData;var r={target:e,type:"summary",added:[],removed:[]};if(r.getOldParentNode=t.getOldParentNode.bind(t),(n.all||n.element)&&(r.reparented=[]),n.all&&(r.reordered=[]),t.getChanged(r),n.all||n.attribute||n.elementAttributes){var i=n.attribute?[n.attribute]:n.elementAttributes,o=t.getAttributesChanged(i);n.attribute?(r.valueChanged=[],o[n.attribute]&&(r.valueChanged=o[n.attribute]),r.getOldAttribute=function(e){return t.getOldAttribute(e,n.attribute)}):(r.attributeChanged=o,
n.elementAttributes&&n.elementAttributes.forEach(function(t){r.attributeChanged.hasOwnProperty(t)||(r.attributeChanged[t]=[])}),r.getOldAttribute=t.getOldAttribute.bind(t))}if(n.all||n.characterData){var a=t.getCharacterDataChanged();r.getOldCharacterData=t.getOldCharacterData.bind(t),n.characterData?r.valueChanged=a:r.characterDataChanged=a}return r.reordered&&(r.getOldPreviousSibling=t.getOldPreviousSibling.bind(t)),r}function f(t){function e(){y.forEach(function(t){t&&t.recordPreviousState()})}function n(t){y.forEach(function(e,n){e&&e.validate(t[n])})}function r(t){if(!t||!t.length)return[];var e=new i(d,v,m,s.oldPreviousSibling);return e.processMutations(t),s.queries.map(function(t){return l(e,d,t)})}function o(t){return t.some(function(t){var e=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(e.some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged){var n=Object.keys(t.attributeChanged).some(function(e){return t.attributeChanged[e].length});if(n)return!0}return!1})}var a=!1,s=c(t),h=u(s.queries),d=s.rootNode,g=s.callback,v=Array.prototype.concat.apply([],s.queries.map(function(t){return t.elementFilter?t.elementFilter:[]}));v.length||(v=void 0);var m=s.queries.some(function(t){return t.all}),y=[];f.createQueryValidator&&(y=s.queries.map(function(t){return f.createQueryValidator(d,t)}));var b=new p(function(t){s.observeOwnChanges||b.disconnect();var i=r(t);n(i),s.observeOwnChanges&&e(),o(i)&&g(i),s.observeOwnChanges||(e(),b.observe(d,h))});this.reconnect=function(){if(a)throw Error("Already connected");b.observe(d,h),a=!0,e()};var w=this.takeSummaries=function(){if(!a)throw Error("Not connected");var t=b.takeRecords(),e=r(t);if(o(e))return e};this.disconnect=function(){var t=w();return b.disconnect(),a=!1,t},this.reconnect()}var d="matchesSelector";"undefined"!=typeof Element&&("webkitMatchesSelector"in Element.prototype?d="webkitMatchesSelector":"mozMatchesSelector"in Element.prototype&&(d="mozMatchesSelector"));var p=function(){for(var e=["WebKit","Moz","O","Ms",""],n=0;n<e.length;n++)if(e[n]+"MutationObserver"in window)return t[e[n]+"MutationObserver"];return!1}();if(p){var g="__mutation_summary_node_map_id__",v=1;n.prototype={set:function(t,n){e(t),this.map_[t[g]]={k:t,v:n}},get:function(t){if(!e(t)){var n=this.map_[t[g]];return n?n.v:void 0}},has:function(t){return!e(t)&&t[g]in this.map_},delete:function(t){e(t)||delete this.map_[t[g]]},keys:function(){var t=[];for(var e in this.map_)t.push(this.map_[e].k);return t}};var m=0,y=1,b=2,w=3,_=4,E=5,k=Array.prototype.forEach.call.bind(Array.prototype.forEach);i.prototype={getChange:function(t){var e=this.changeMap.get(t);return e||(e={target:t},this.changeMap.set(t,e)),t.nodeType==Node.ELEMENT_NODE&&(e.matchCaseInsensitive=t instanceof HTMLElement&&t.ownerDocument instanceof HTMLDocument),e},getParentChange:function(t){var e=this.getChange(t);return e.childList||(e.childList=!0,e.oldParentNode=null),e},handleChildList:function(t){this.childListChanges=!0,k(t.removedNodes,function(e){var n=this.getParentChange(e);n.added||n.oldParentNode?n.added=!1:n.oldParentNode=t.target},this),k(t.addedNodes,function(t){var e=this.getParentChange(t);e.added=!0},this)},handleAttributes:function(t){this.attributesChanges=!0;var e=this.getChange(t.target);e.attributes||(e.attributes=!0,e.attributeOldValues={});var n=e.attributeOldValues;r(n,t.attributeName)||(n[t.attributeName]=t.oldValue)},handleCharacterData:function(t){this.characterDataChanges=!0;var e=this.getChange(t.target);e.characterData||(e.characterData=!0,e.characterDataOldValue=t.oldValue)},processMutations:function(t){function e(t){if(l.calcOldPreviousSibling){l.processChildlistChanges();var e=t.parentNode,r=l.changeMap.get(t);r&&r.oldParentNode&&(e=r.oldParentNode),r=l.childlistChanges.get(e),r||(r={oldPrevious:new n},l.childlistChanges.set(e,r)),r.oldPrevious.has(t)||r.oldPrevious.set(t,t.previousSibling)}}function r(t,n){if(!u.has(t)){u.set(t,!0);var f=l.changeMap.get(t),d=n;if((f&&f.childList||void 0==d)&&(d=c(t)),d!=m){if(s(t),d==y)i.push(t);else if(d==w)o.push(t),e(t);else if(d==b){var p=b;f&&f.childList&&(f.oldParentNode!==t.parentNode?(p=_,e(t)):l.calcReordered&&h(t)&&(p=E)),a.set(t,p)}if(d!=b)for(var g=t.firstChild;g;g=g.nextSibling)r(g,d)}}}this.mutations=t,this.changeMap=new n,this.mutations.forEach(function(t){switch(t.type){case"childList":this.handleChildList(t);break;case"attributes":this.handleAttributes(t);break;case"characterData":this.handleCharacterData(t)}},this);var i=this.entered=[],o=this.exited=[],a=this.stayedIn=new n;if(this.childListChanges||this.attributesChanges){var s=this.matchabilityChange.bind(this),c=this.reachabilityChange.bind(this),h=this.wasReordered.bind(this),u=new n,l=this;this.changeMap.keys().forEach(function(t){r(t)})}},getChanged:function(t){var e=this.matchabilityChange.bind(this);this.entered.forEach(function(n){var r=e(n);r!=y&&r!=b||t.added.push(n)}),this.stayedIn.keys().forEach(function(n){var r=e(n);if(r==y)t.added.push(n);else if(r==w)t.removed.push(n);else if(r==b&&(t.reparented||t.reordered)){var i=this.stayedIn.get(n);t.reparented&&i==_?t.reparented.push(n):t.reordered&&i==E&&t.reordered.push(n)}},this),this.exited.forEach(function(n){var r=e(n);r!=w&&r!=b||t.removed.push(n)})},getOldParentNode:function(t){var e=this.changeMap.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var n=this.reachabilityChange(t);if(n==m||n==y)throw new Error("getOldParentNode requested on invalid node.");return t.parentNode},getOldPreviousSibling:function(t){var e=t.parentNode,n=this.changeMap.get(t);if(n&&n.oldParentNode&&(e=n.oldParentNode),n=this.childlistChanges.get(e),!n)throw new Error("getOldPreviousSibling requested on invalid node.");return n.oldPrevious.get(t)},getOldAttribute:function(t,e){var n=this.changeMap.get(t);if(!n||!n.attributes)throw new Error("getOldAttribute requested on invalid node.");if(n.matchCaseInsensitive&&(e=e.toLowerCase()),!r(n.attributeOldValues,e))throw new Error("getOldAttribute requested for unchanged attribute name.");return n.attributeOldValues[e]},getAttributesChanged:function(t){if(!this.attributesChanges)return{};var e,n;t&&(e={},n={},t.forEach(function(t){e[t]=!0;var r=t.toLowerCase();t!=r&&(n[r]=t)}));for(var r={},i=this.changeMap.keys(),o=0;o<i.length;o++){var a=i[o],s=this.changeMap.get(a);if(s.attributes&&b==this.reachabilityChange(a)&&b==this.matchabilityChange(a)){var c=a,h=s.attributeOldValues;Object.keys(h).forEach(function(t){var i=t;s.matchCaseInsensitive&&n&&n[t]&&(i=n[t]),e&&!e[i]||c.getAttribute(t)!=h[t]&&(r[i]||(r[i]=[]),r[i].push(c))})}}return r},getOldCharacterData:function(t){var e=this.changeMap.get(t);if(!e||!e.characterData)throw new Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},getCharacterDataChanged:function(){if(!this.characterDataChanges)return[];for(var t=this.changeMap.keys(),e=[],n=0;n<t.length;n++){var r=t[n];if(b==this.reachabilityChange(r)&&b==this.matchabilityChange(r)){var i=this.changeMap.get(r);i.characterData&&r.textContent!=i.characterDataOldValue&&e.push(r)}}return e},reachabilityChange:function(t){function e(t){var e=a.get(t);if(e&&e.childList){if(e.oldParentNode)return e.oldParentNode;if(e.added)return null}return t.parentNode}function r(t){if(t===o)return!0;if(!t)return!1;var e=s.get(t);return void 0===e&&(e=r(t.parentNode),s.set(t,e)),e}function i(t){if(t===o)return!0;if(!t)return!1;var n=c.get(t);return void 0===n&&(n=i(e(t)),c.set(t,n)),n}this.reachableCache=this.reachableCache||new n,this.wasReachableCache=this.wasReachableCache||new n;var o=this.rootNode,a=this.changeMap,s=this.reachableCache,c=this.wasReachableCache;return r(t)?i(t)?b:y:i(t)?w:m},checkWasMatching:function(t,e,n){var i=this.changeMap.get(t);if(!i||!i.attributeOldValues)return n;var o=e.tagName;if(i.matchCaseInsensitive&&"*"!=o&&r(e,"caseInsensitiveTagName")&&(o=e.caseInsensitiveTagName),"*"!=o&&o!=t.tagName)return!1;var a=i.attributeOldValues,s=e.qualifiers.some(function(t){return t.class?r(a,"class"):t.id?r(a,"id"):i.matchCaseInsensitive&&r(t,"caseInsensitiveAttrName")?r(a,t.caseInsensitiveAttrName):r(a,t.attrName)});if(!s)return n;for(var c=0;c<e.qualifiers.length;c++){var h,u=e.qualifiers[c];h=u.class?"class":u.id?"id":i.matchCaseInsensitive&&r(u,"caseInsensitiveAttrName")?u.caseInsensitiveAttrName:u.attrName;var l=!!u.class||u.contains,f=r(a,h)?a[h]:t.getAttribute(h);if(null==f)return!1;if(u.hasOwnProperty("attrValue")){if(!l&&u.attrValue!==f)return!1;var d=f.split(" ").some(function(t){return t==u.attrValue});if(!d)return!1}}return!0},matchabilityChange:function(t){function e(t){this.matchCache||(this.matchCache={}),this.matchCache[t.selectorString]||(this.matchCache[t.selectorString]=new n);var e=this.matchCache[t.selectorString],i=e.get(r);if(void 0!==i)return i;var o=r[d](t.selectorString),a=this.checkWasMatching(r,t,o);return i=o?a?b:y:a?w:m,e.set(r,i),i}if(this.filterCharacterData)switch(t.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return b;default:return m}if(!this.elementFilter)return b;if(t.nodeType!==Node.ELEMENT_NODE)return m;for(var r=t,i=this.elementFilter.map(e,this),o=m,a=0;o!=b&&a<i.length;){switch(i[a]){case b:o=b;break;case y:o=o==w?b:y;break;case w:o=o==y?b:w}a++}return o},processChildlistChanges:function(){function t(t){var r=e.get(t);return r||(r={added:new n,removed:new n,maybeMoved:new n,oldPrevious:new n},e.set(t,r)),r}if(!this.childlistChanges){var e=this.childlistChanges=new n,r=this.reachabilityChange.bind(this),i=this;this.mutations.forEach(function(e){function n(t,e){!t||o.oldPrevious.has(t)||o.added.has(t)||o.maybeMoved.has(t)||e&&(o.added.has(e)||o.maybeMoved.has(e))||o.oldPrevious.set(t,e)}if("childList"==e.type&&(r(e.target)==b||i.calcOldPreviousSibling)){var o=t(e.target),a=e.previousSibling;k(e.removedNodes,function(t){n(t,a),o.added.has(t)?o.added.delete(t):(o.removed.set(t,!0),o.maybeMoved.delete(t,!0)),a=t}),n(e.nextSibling,a),k(e.addedNodes,function(t){o.removed.has(t)?(o.removed.delete(t),o.maybeMoved.set(t,!0)):o.added.set(t,!0)})}})}},wasReordered:function(t){function e(t){if(!t)return!1;if(!a.maybeMoved.has(t))return!1;var e=s.get(t);return void 0!==e?e:(c.has(t)?e=!0:(c.set(t,!0),e=i(t)!==r(t)),c.has(t)?(c.delete(t),s.set(t,e)):e=s.get(t),e)}function r(t){var n=h.get(t);if(void 0!==n)return n;for(n=a.oldPrevious.get(t);n&&(a.removed.has(n)||e(n));)n=r(n);return void 0===n&&(n=t.previousSibling),h.set(t,n),n}function i(t){if(u.has(t))return u.get(t);for(var n=t.previousSibling;n&&(a.added.has(n)||e(n));)n=n.previousSibling;return u.set(t,n),n}if(!this.childListChanges)return!1;this.processChildlistChanges();var o=t.parentNode,a=this.changeMap.get(t);if(a&&a.oldParentNode&&(o=a.oldParentNode),a=this.childlistChanges.get(o),!a)return!1;if(a.moved)return a.moved.get(t);var s=a.moved=new n,c=new n,h=new n,u=new n;return a.maybeMoved.keys().forEach(e),a.moved.get(t)}};var x=/[a-zA-Z_]+/,A=/[a-zA-Z0-9_\-]+/,C=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;t.MutationSummary=f,t.MutationSummary.NodeMap=n,t.MutationSummary.parseElementFilter=o}}(window)},function(t,e,n){t.exports=function(t,e,r,i,o){function a(){function t(t){return t.split(".").map(function(t){return("0"+t).slice(-2)}).join(".")}if(!o||!o.fn||!o.fn.jquery)return r.$;var e=t(r.$.fn.jquery),n=t(o.fn.jquery);return n>e?o:r.$}function s(){this._magicEvent.$frame=this._magicEvent.opts.jQuery.find("html")}var c=n(41),h=n(42)(r.mirrorHost),u={elToObserve:"body",elToExclude:t.excludedElements.join(","),eventToSender:t.handledEvents,eventToReceiver:t.handledEvents,jQuery:a(),onSenderEnable:function(){this.forceEventHandler("resize"),this.opts._$elToObserve.find("#anim_clic").css({top:"-3000px",left:"-3000px"}),this.opts._$elToObserve.find("#visitor_cursor").hide(),i.inputs.onMirroringEnabled(this.opts._$elToObserve)},onReceiverEnable:function(){this.opts._$elToObserve.find("#anim_clic").css({top:"-3000px",left:"-3000px"}),this.opts._$elToObserve.find("#visitor_cursor").show(),this.getEventHandler("resize").enable(),i.inputs.onCobrowsingEnabled(this.opts._$elToObserve)},onReceiverDisable:function(){this.opts._$elToObserve.find("#visitor_cursor").hide(),this.getEventHandler("resize").disable()}};return{start:function(t,n){if(r.$("html.idz_mirroring_disabled").length>0)return null;u.elToObserve=t;var i=e.connectProjector(),o=new c(u);return o.changeState("disabled"),o.editEventHandler("scroll","onReceive",h.onScrollReceived).editEventHandler("click","onReceive",h.onClickReceived,"after").editEventHandler("resize","onReceive",h.onResizeReceived).editEventHandler("mousemove","onReceive",h.onMouseMoveReceived).editEventHandler("resize","enable",s,"after"),o.updateSenderMethod(function(t){i.emit("action",t)}),i.on("action",function(t){o.receiverDispatcher(t)}),i.on("start",function(){"disabled"===o.opts.mode&&o.changeState("sender"),n()}),i.on("stop",function(){o.changeState("disabled")}),o}}}},function(t,e,n){function r(t){var e=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n]]=!0;return e};this.opts={elToObserve:"body",elToExclude:"",eventToSender:[],eventToReceiver:[],enable:function(){},disable:function(){},mode:"disabled",jQuery:!1,_$elToObserve:!1,_$elToExclude:!1,_map_Global:{jQueryPath_document:document,jQueryPath_window:window,window:"jQueryPath_window",document:"jQueryPath_document"}};var n={};this.passiveCobrowsing=!1,this.setPassiveCobrowsing=function(t){this.passiveCobrowsing=t},this.isPassiveCobrowsing=function(){return this.passiveCobrowsing},this.updateElToObserve=function(t){return this.opts.elToObserve=t,this.opts._$elToObserve=this.opts.jQuery(t),this},this.updateElToExclude=function(t){return this.opts.elToExclude=t,this.opts._$elToExclude=this.opts.jQuery(t),this},this.getEventHandler=function(t){return t?n[t]:n},this.get_jQDocument=function(){var t=this.opts._$elToObserve;return t.is("body")||(t=t.parents("body")),t.parent().parent()},this.get_jQWindow=function(){var t=this.get_jQDocument()[0];return null!=t&&this.opts.jQuery("object"==typeof t&&"defaultView"in t?t.defaultView:t.parentWindow)},this.simulateMouseEvent=function(t,e){this.simulateMouseEvent.previousTarget||(this.simulateMouseEvent.previousTarget={});var n={mouseover:"mouseout",mouseenter:"mouseleave",click:""},r=this.simulateMouseEvent.previousTarget[t];if(t in n&&e&&e.dispatchEvent){if(n[t]){if(r){var i=null;try{i=new MouseEvent(n[t],{view:window,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("MouseEvent"),i.initMouseEvent(n[t],!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}r.dispatchEvent(i)}this.simulateMouseEvent.previousTarget[t]=e}var o=null;try{o=new MouseEvent(t,{view:window,bubbles:!0,cancelable:!0})}catch(e){o=document.createEvent("MouseEvent"),o.initMouseEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}!e.dispatchEvent(o)}},this.receiverDispatcher=function(t){var e=null,r=null;try{e="string"==typeof t?i.parse(iAdvize.html_entity_decode(t)):t}catch(t){e=null}try{if(e.i.indexOf("jQueryPath_")!=-1){if(e.i==this.opts._map_Global.document)r=this.get_jQDocument();else if(e.i==this.opts._map_Global.window)try{if(r=this.get_jQWindow(),r===!1)throw new Error("Window undefined :'(")}catch(t){r=null}}else null!=e.i&&(r=this.get_jQDocument().find(e.i))}catch(t){}null!==e&&r&&(e.iframe&&""!=e.iframe&&(r=this.opts._$elToObserve.find("#"+e.iframe).contents().find(e.i)),this.opts.eventToReceiver[e.type]&&n[e.type]&&n[e.type].onReceive?n[e.type].onReceive(r,e):this.opts.eventToReceiver.default&&n.default.onReceive(r,e))},this._senderBuffer=[],this.sender=function(t){this._senderBuffer.push(i.stringify(t)),this._throttledSender()},this._throttledSender=iAdvize.Utils.throttle(350,function(){for(var t=0,e=this._senderBuffer.length;t<e;t++)this._sender(this._senderBuffer[t]);this._senderBuffer=[]}),this._sender=function(t){},this.updateSenderMethod=function(t){this._sender=t},this.eventDispatcher=function(t){if(!t||!t.target)return!0;var e=this.opts.jQuery(t.target);if(!e)return!0;var r=e.data("MagicEvent_path");return r||(r=this.opts.jQuery.getjQueryPath(t.target),r=r.replace("body>div",'body>div:not(div[id^="idz_"])'),e.data("MagicEvent_path",r)),!(r==this.opts._map_Global.window||r==this.opts._map_Global.document||!this.opts._$elToExclude||1!=this.opts._$elToExclude.has(t.target).length)||(this.opts.eventToSender[t.type]&&n[t.type]&&n[t.type].EventHandler?n[t.type].EventHandler(t,r):this.opts.eventToSender.default&&n.default.EventHandler(t,r),!0)},this.forceEventHandler=function(t,e){n[t].EventHandler(e)},this.forceOnReceive=function(t,e,r){return!(!n[t]||"function"!=typeof n[t].onReceive)&&void n[t].onReceive(e,r)},this.changeState=function(t){o.info("state","magicEvent",t);var e="disabled",r="disabled";if("sender"==this.opts.mode?e="Sender":"receiver"==this.opts.mode&&(e="Receiver"),"sender"==this.opts.mode){var i=this.opts["eventTo"+e];for(var a in i)n[a]&&n[a].disable()}if(this.opts["on"+e+"Disable"]&&this.opts["on"+e+"Disable"].call(this),this.opts.mode=t,"sender"==t?r="Sender":"receiver"==t&&(r="Receiver"),"sender"===t){var i=this.opts["eventTo"+r];for(var a in i)n[a]&&n[a].enable()}return this.opts["on"+r+"Enable"]&&this.opts["on"+r+"Enable"].call(this),this},this.refreshState=function(){o.info("state","refreshState",this.opts.mode),this.changeState(this.opts.mode)},this.Helper_IntelliZoom=function(t,e){var n=this._magicEvent,r=n.get_jQWindow();if(r&&n.distantWinWidth>r.width()){var i=n.opts.jQuery,o=(n.localWinWidth=n.opts._$elToObserve.width(),t-r.width()/2);i("html, body",n.get_jQDocument()).stop().animate({scrollLeft:o},500)}},this.addEventHandler=function(t,e,r){n[t]&&delete n[t];var i={enable:function(){this._magicEvent.opts._$elToObserve.bind(t,this._magicEvent.eventDispatcher)},disable:function(){this._magicEvent.opts._$elToObserve.unbind(t)},onReceive:function(t){}};if(this.opts.jQuery.extend(i,e),n[t]=i,n[t]._magicEvent=this,n[t]._intelliZoom=this.Helper_IntelliZoom,r&&r.mustBeBuffered)for(var o=r.mustBeBuffered.length;o--;)n[t][r.mustBeBuffered[o]]=iAdvize.Utils.throttle(n[t]._sampleDelay,n[t][r.mustBeBuffered[o]])},this.editEventHandler=function(t,e,r,i){var o=i||!1;if(n[t]&&n[t][e])if(o){var a=n[t][e];n[t][e]=function(){return function(){"before"!=o&&a.apply(this,arguments),r.apply(this,arguments),"before"==o&&a.apply(this,arguments)}}()}else n[t][e]=r;return this},this.init=function(t){t.jQuery.extend(this.opts,t),this.opts.jQuery.proxy||(this.opts.jQuery.proxy=this.opts.jQuery.fn.proxy=function(t,e){return function(){return t.apply(e||window,Array.prototype.slice.call(arguments))}}),this.eventDispatcher=this.opts.jQuery.proxy(this.eventDispatcher,this),this.opts._$elToObserve=this.opts.jQuery("function"==typeof this.opts.elToObserve?this.opts.elToObserve():this.opts.elToObserve),this.opts.elToExclude&&(this.opts._$elToExclude=this.opts.jQuery(this.opts.elToExclude)),this.opts.eventToSender=e(this.opts.eventToSender),this.opts.eventToReceiver=e(this.opts.eventToReceiver),this.addEventHandler("default",new function(){for(var t=["blur","change","select"],e="",n=0,r=t.length;n<r;n++)e+=t[n]+".magicEvent ";this.enable=function(){this._magicEvent.opts._$elToObserve.bind(e,this._magicEvent.eventDispatcher),this._magicEvent.opts._$elToObserve.on("focus.magicEvent","input, textarea",this._magicEvent.eventDispatcher)},this.disable=function(){this._magicEvent.opts._$elToObserve.unbind(e,this._magicEvent.eventDispatcher),this._magicEvent.opts._$elToObserve.off("focus.magicEvent","input, textarea",this._magicEvent.eventDispatcher)},this.onReceive=function(t,e){if(!e.passive){var n=e.type;t.attr("value",t.val()),"change"!=n&&"blur"!=n||""==e.data||(t.val(unescape(e.data)),"change"==n&&t&&t[0]&&t[0].value&&(t[0].value=unescape(e.data))),t.fireEvent(e.type)}},this.EventHandler=function(t,e){var n=this._magicEvent.opts.jQuery(t.target),r=t.type,i={i:e,type:r,passive:this._magicEvent.passiveCobrowsing,data:null};if(n.attr("value",n.val()),"change"===r||"blur"===r||"focusin"===r||"select"===r){var o=n.val();("password"===n.attr("type")||"idzhide"===n.attr("rel")||"CreditCardNumber"===n.attr("id")||"CVV2"===n.attr("id")||n.hasClass("idz_hide"))&&(o=Array(n.val().length+1).join("*")),i.data=escape(o)}this._magicEvent.sender(i)}}),this.addEventHandler("click",new function(){var t="click.magicEvent";this._sampleDelay=2450,this.enable=function(){this._magicEvent.opts._$elToObserve.bind(t,this._magicEvent.eventDispatcher)},this.disable=function(){this._magicEvent.opts._$elToObserve.unbind(t,this._magicEvent.eventDispatcher)},this.onReceive=function(t,e){e.passive||t.fireEvent(e.type)},this.EventHandler=function(t,e){this._magicEvent.sender({i:e,type:"click",passive:this._magicEvent.passiveCobrowsing,data:{x:t.pageX,y:t.pageY}})}},{mustBeBuffered:["EventHandler"]}),this.addEventHandler("resize",new function(){var t="resize.magicEvent";this._sampleDelay=2450,this.enable=function(){this._magicEvent.distantWinWidth=0,this._magicEvent.localWinWidth=0;var e=this._magicEvent.get_jQWindow();e!==!1&&(e.bind(t,this._magicEvent.eventDispatcher),this._magicEvent.localWinWidth=e.width()),this._magicEvent.sender({i:this._magicEvent.opts._map_Global.window,type:"resize",data:{w:this._magicEvent.localWinWidth}})},this.disable=function(){var e=this._magicEvent.get_jQWindow();e!==!1&&e.unbind(t)},this.onReceive=function(t,e){alert("Not implemented !")},this.EventHandler=function(t){var e=this._magicEvent.get_jQWindow();if(e!==!1){var n=e.width();if(this._magicEvent.localWinWidth==n)return!0;this._magicEvent.localWinWidth=n,this._magicEvent.sender({i:this._magicEvent.opts._map_Global.window,type:"resize",data:{w:this._magicEvent.localWinWidth}})}}},{mustBeBuffered:["EventHandler"]}),this.addEventHandler("scroll",new function(){this._sampleDelay=2450,this.documentScrollX=this.documentScrollY=0,this.scrollableElements=[],this.enable=function(){var t=this;document.addEventListener("scroll",t._magicEvent.eventDispatcher,!0);var e=this._magicEvent.get_jQDocument();"sender"===this._magicEvent.opts.mode&&(this.documentScrollX=e.scrollLeft(),this.documentScrollY=e.scrollTop(),this._magicEvent.sender({i:this._magicEvent.opts._map_Global.document,type:"scroll",data:{x:this.documentScrollX,y:this.documentScrollY}}))},this.disable=function(){var t=this;document.removeEventListener("scroll",t._magicEvent.eventDispatcher,!0)},this.onReceive=function(t,e){alert("Not implemented !")},this.getElementInArray=function(t){var e;return this.scrollableElements.forEach(function(n){n.element===t&&(e=n)}),e},this.populateElement=function(t,e,n){var r=this.getElementInArray(t);return 0===this.scrollableElements.length?(r={element:t,scrollX:e,lastSendScrollX:e,scrollY:n,lastSendScrollY:n},this.scrollableElements.push(r)):r?(r.scrollX=e,r.scrollY=n):(r={element:t,scrollX:e,scrollY:n},this.scrollableElements.push(r)),r},this.EventHandler=function(t,e){var n=this._magicEvent.opts.jQuery(t.target).scrollLeft(),r=this._magicEvent.opts.jQuery(t.target).scrollTop(),i=this.populateElement(t.target,n,r);return i.scrollX===i.lastSendScrollX&&i.scrollY===i.lastSendScrollY||(i.lastSendScrollX=i.scrollX,i.lastSendScrollY=i.scrollY,void this._magicEvent.sender({i:e,type:"scroll",data:{x:n,y:r}}))}},{mustBeBuffered:["EventHandler"]}),this.addEventHandler("keyup",new function(){var t="keyup.magicEvent";this._sampleDelay=2450,this.enable=function(){this._magicEvent.opts._$elToObserve.bind(t,this._magicEvent.eventDispatcher)},this.disable=function(e){this._magicEvent.opts._$elToObserve.unbind(t)},this.onReceive=function(t,e){e.passive||(t[0].dispatchEvent(new KeyboardEvent("keydown")),t[0].dispatchEvent(new KeyboardEvent("keypress")),t.val(unescape(e.data)),t[0].dispatchEvent(new KeyboardEvent("keyup")))},this.EventHandler=function(t,e){var n=this._magicEvent.opts.jQuery(t.target),r=n.val();("password"===n.attr("type")||"idzhide"===n.attr("rel")||"CreditCardNumber"===n.attr("id")||"CVV2"===n.attr("id")||n.hasClass("idz_hide"))&&(r=Array(r.length+1).join("*")),this._magicEvent.sender({i:e,type:"keyup",passive:this._magicEvent.passiveCobrowsing,data:escape(r)})}},{mustBeBuffered:["EventHandler"]}),this.addEventHandler("mousemove",new function(){var t="mousemove.magicEvent";this._sampleDelay=2450,this.mouseX=0,this.mouseY=0,this.lastSendMouseX=0,this.lastSendMouseY=0,this.enable=function(){this._magicEvent.opts._$elToObserve.bind(t,this._magicEvent.eventDispatcher)},this.disable=function(){this._magicEvent.opts._$elToObserve.unbind(t)},this.onReceive=function(t){alert("Not implemented !")},this.EventHandler=function(t,e){return this.mouseX=t.pageX,this.mouseY=t.pageY,this.lastSendMouseX==this.mouseX||this.lastSendMouseY==this.mouseY||(this._magicEvent.sender({i:this._magicEvent.opts._map_Global.window,type:"mousemove",data:{x:this.mouseX,y:this.mouseY},selector:e}),this.lastSendMouseX=this.mouseX,void(this.lastSendMouseY=this.mouseY))}},{mustBeBuffered:["EventHandler"]}),this.opts.jQuery.fireEvent||!function(t,e){t.fireEvent=function(r,i,o){if(r===e)return!1;var a;return!!n[i]&&void("undefined"!=typeof document.createEvent?(a=document.createEvent(n[i].w3c),n[i].initEvt(a,r,o),r.dispatchEvent(a)):"click"==i?(t(r).click(),r.fireEvent(n[i].ie)):r.fireEvent(n[i].ie))},t.fn.fireEvent=function(e,n){return 0==this.length?this:(t.fireEvent.call({},this[0],e,n),this)};var n={click:{ie:"onclick",w3c:"MouseEvents",initEvt:function(e,n,r){var i=t.extend({type:"click",canBubble:!0,cancelable:!0,view:window,detail:1,screenX:1,screenY:1,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:n},r);e.initMouseEvent(i.type,i.canBubble,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}},dblclick:{ie:"ondblclick",w3c:"MouseEvents",initEvt:function(e,r,i){n.click.initEvt(e,r,t.extend({type:"dblclick"},i))}},keyup:{ie:"onkeyup",w3c:"KeyboardEvent",initEvt:function(e,n,r){var i=t.extend({keyCode:null,CharCode:null},r);e.initKeyEvent("keyup",!0,!0,window,!1,!1,!1,!1,i.keyCode,i.CharCode)}},blur:{ie:"onblur",w3c:"HTMLEvents",initEvt:function(t,e,n){t.initEvent("blur",!0,!0)}},focus:{ie:"onfocus",w3c:"HTMLEvents",initEvt:function(t,e,n){t.initEvent("focus",!0,!0)}},focusin:{ie:"onfocus",w3c:"HTMLEvents",initEvt:function(t,e,n){t.initEvent("focus",!0,!0)}},change:{ie:"onchange",w3c:"HTMLEvents",initEvt:function(t,e,n){t.initEvent("change",!0,!0)}},select:{ie:"onselect",w3c:"HTMLEvents",initEvt:function(t,e,n){t.initEvent("select",!0,!0)}}}}(this.opts.jQuery),this.opts.jQuery.getjQueryPath||!function(t){var e=function(){try{var e=t("<div><p></p><p></p></div>")[0].childNodes[1];return e.previousElementSibling&&"object"==typeof e.previousElementSibling?function(t){return t.previousElementSibling}:function(e){return t(e).prev()[0]}}catch(t){return!1}}(),n=function(t){if(null===t.previousElementSibling)return 0;for(var n=t,r=0,i=t.nodeName;n=e(n);)n.nodeName==i&&r++;return r},r=function(t,e){var r=e||!1,i="";i+=t.nodeName.toLowerCase();var o=n(t);return(o||r)&&(i+=":eq("+o+")"),i};t.getjQueryPath=function(t){if(!t)return!1;if(t.nodeName&&"#document"==t.nodeName.toLowerCase())return"jQueryPath_document";if(t.location)return"jQueryPath_window";for(var e=r(t,!0);t.parentNode&&"#document"!==t.parentNode.nodeName;)t=t.parentNode,e=r(t)+">"+e;return e}}(this.opts.jQuery)},this.init(t)}var i=n(35).noConflict(),o=n(24)(iAdvize);t.exports=r,"undefined"==typeof iAdvize&&(iAdvize={}),"undefined"==typeof iAdvize.Utils&&(iAdvize.Utils={}),iAdvize.Utils.throttle||!function(t){var e;iAdvize.Utils.throttle=e=function(e,n,r,i){function o(){function o(){s=+new Date,r.apply(h,l)}function c(){a=t}var h=this,u=+new Date-s,l=arguments;i&&!a&&o(),a&&clearTimeout(a),i===t&&u>e?o():n!==!0&&(a=setTimeout(i?c:o,i===t?e-u:e))}var a,s=0;return"boolean"!=typeof n&&(i=r,r=n,n=t),o},iAdvize.Utils.debounce=function(n,r,i){return i===t?e(n,r,!1):e(n,i,r!==!1)}}(),iAdvize.html_entity_decode||(iAdvize.get_html_translation_table=function(t,e){var n={},r={},i=0,o="",a={},s={},c={},h={};if(a[0]="HTML_SPECIALCHARS",a[1]="HTML_ENTITIES",s[0]="ENT_NOQUOTES",s[2]="ENT_COMPAT",s[3]="ENT_QUOTES",c=isNaN(t)?t?t.toUpperCase():"HTML_SPECIALCHARS":a[t],h=isNaN(e)?e?e.toUpperCase():"ENT_COMPAT":s[e],"HTML_SPECIALCHARS"!==c&&"HTML_ENTITIES"!==c)throw new Error("Table: "+c+" not supported");n[38]="&amp;","HTML_ENTITIES"===c&&(n[160]="&nbsp;",n[161]="&iexcl;",n[162]="&cent;",n[163]="&pound;",n[164]="&curren;",n[165]="&yen;",n[166]="&brvbar;",n[167]="&sect;",n[168]="&uml;",n[169]="&copy;",n[170]="&ordf;",n[171]="&laquo;",n[172]="&not;",n[173]="&shy;",n[174]="&reg;",n[175]="&macr;",n[176]="&deg;",n[177]="&plusmn;",n[178]="&sup2;",n[179]="&sup3;",n[180]="&acute;",n[181]="&micro;",n[182]="&para;",n[183]="&middot;",n[184]="&cedil;",n[185]="&sup1;",n[186]="&ordm;",n[187]="&raquo;",n[188]="&frac14;",n[189]="&frac12;",n[190]="&frac34;",n[191]="&iquest;",n[192]="&Agrave;",n[193]="&Aacute;",n[194]="&Acirc;",n[195]="&Atilde;",n[196]="&Auml;",n[197]="&Aring;",n[198]="&AElig;",n[199]="&Ccedil;",n[200]="&Egrave;",n[201]="&Eacute;",n[202]="&Ecirc;",n[203]="&Euml;",n[204]="&Igrave;",n[205]="&Iacute;",n[206]="&Icirc;",n[207]="&Iuml;",n[208]="&ETH;",n[209]="&Ntilde;",n[210]="&Ograve;",n[211]="&Oacute;",n[212]="&Ocirc;",n[213]="&Otilde;",n[214]="&Ouml;",n[215]="&times;",n[216]="&Oslash;",n[217]="&Ugrave;",n[218]="&Uacute;",n[219]="&Ucirc;",n[220]="&Uuml;",n[221]="&Yacute;",n[222]="&THORN;",n[223]="&szlig;",n[224]="&agrave;",n[225]="&aacute;",n[226]="&acirc;",n[227]="&atilde;",n[228]="&auml;",n[229]="&aring;",n[230]="&aelig;",n[231]="&ccedil;",n[232]="&egrave;",n[233]="&eacute;",n[234]="&ecirc;",n[235]="&euml;",n[236]="&igrave;",n[237]="&iacute;",n[238]="&icirc;",n[239]="&iuml;",n[240]="&eth;",n[241]="&ntilde;",n[242]="&ograve;",n[243]="&oacute;",n[244]="&ocirc;",n[245]="&otilde;",n[246]="&ouml;",n[247]="&divide;",n[248]="&oslash;",n[249]="&ugrave;",n[250]="&uacute;",n[251]="&ucirc;",n[252]="&uuml;",n[253]="&yacute;",n[254]="&thorn;",n[255]="&yuml;"),"ENT_NOQUOTES"!==h&&(n[34]="&quot;"),"ENT_QUOTES"===h&&(n[39]="&#39;"),n[60]="&lt;",n[62]="&gt;";for(i in n)o=String.fromCharCode(i),r[o]=n[i];return r},iAdvize.html_entity_decode=function(t,e){var n={},r="",i="",o="";if(i=t.toString(),!1===(n=iAdvize.get_html_translation_table("HTML_ENTITIES",e)))return!1;delete n["&"],n["&"]="&amp;";for(r in n)o=n[r],i=i.split(o).join(r);return i=i.split("&#039;").join("'")})},function(t,e){t.exports=function(t){function e(e){var n=e.jQuery,r=e._$elToObserve,i=n("#visitor_cursor",r);return i.length||(i=n('<img src="https://'+t+'/public/images/visitor_cursor.png" id="visitor_cursor" style="position: absolute; z-index: 999999999999; top: -3000px; left: -3000px;"/>'),i.appendTo("body")),i}function n(e){var n=e.jQuery,r=e._$elToObserve,i=n("#anim_clic",r);return i.length||(i=n('<img src="https://'+t+'/public/images/anim_clic.gif" id="anim_clic" style="position: absolute; z-index: 999999999998; top: -3000px; left: -3000px;"/>'),i.appendTo(r)),i}function r(t,r){var i=this._magicEvent.opts._$elToObserve,o=e(this._magicEvent.opts),a=n(this._magicEvent.opts);if(null==r.data&&(r.data={}),!r.data.x&&1==t.length){var s=t.offset();r.data.x=s.left+t.width()/2,r.data.y=s.top}if(r.iframe&&""!=r.iframe){var c=i.find("#"+r.iframe).offset();r.data.x+=c.left,r.data.y+=c.top}this._intelliZoom(r.data.x,r.data.y),o.hide().css({top:parseInt(r.data.y,10)-30,left:parseInt(r.data.x,10)-30}),a.css({top:parseInt(r.data.y,10)-80,left:parseInt(r.data.x,10)-80}),setTimeout(function(){a.css({top:"-3000px",left:"-3000px"}),o.show()},800)}function i(t,n){var r=this._magicEvent.opts.jQuery(n.selector),i=e(this._magicEvent.opts);r.length&&this._magicEvent.simulateMouseEvent("mouseover",r[0]),n.data.x-=30,n.data.y-=30,this.mouseX=n.data.x,this.mouseY=n.data.y,i.stop().animate({top:this.mouseY,left:this.mouseX},650)}function o(t,e){"jQueryPath_document"===e.i&&(t=this._magicEvent.opts.jQuery("html,body"));var n={scrollTop:e.data.y};e.data.x>0&&(n.scrollLeft=e.data.x),t.stop().animate(n,700)}function a(t,e){
return!!e.data.w&&((!e.iframe||""==e.iframe)&&void(this._magicEvent.distantWinWidth=e.data.w))}return{onClickReceived:r,onMouseMoveReceived:i,onScrollReceived:o,onResizeReceived:a}}},function(t,e,n){t.exports=n(44)},function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),o=r.source,h=r.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(s("ignoring socket cache for %s",o),n=a(o,e)):(c[h]||(s("new io instance for %s",o),c[h]=a(o,e)),n=c[h]),n.socket(r.path)}var i=n(45),o=n(48),a=n(55),s=n(47)("socket.io-client");t.exports=e=r;var c=e.managers={};e.protocol=o.protocol,e.connect=r,e.Manager=n(55),e.Socket=n(85)},function(t,e,n){(function(e){function r(t,n){var r=t,n=n||e.location;return null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?n.protocol+t:n.hostname+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof n?n.protocol+"//"+t:"https://"+t),o("parse %s",t),r=i(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(n&&n.port==r.port?"":":"+r.port),r}var i=n(46),o=n(47)("socket.io-client:url");t.exports=r}).call(e,function(){return this}())},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){for(var e=n.exec(t||""),i={},o=14;o--;)i[r[o]]=e[o]||"";return i}},function(t,e){function n(t){return n.enabled(t)?function(e){e=r(e);var i=new Date,o=i-(n[t]||i);n[t]=i,e=t+" "+e+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}t.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(t){}for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)t=e[i].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,n=6e4,r=60*n;return t>=r?(t/r).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(var e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(t){}},function(t,e,n){function r(){}function i(t){var n="",r=!1;return n+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(n+=t.attachments,n+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,n+=t.nsp),null!=t.id&&(r&&(n+=",",r=!1),n+=t.id),null!=t.data&&(r&&(n+=","),n+=l.stringify(t.data)),u("encoded %j as %s",t,n),n}function o(t,e){function n(t){var n=d.deconstructPacket(t),r=i(n.packet),o=n.buffers;o.unshift(r),e(o)}d.removeBlobs(t,n)}function a(){this.reconstructor=null}function s(t){var n={},r=0;if(n.type=Number(t.charAt(0)),null==e.types[n.type])return h();if(e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type){for(var i="";"-"!=t.charAt(++r)&&(i+=t.charAt(r),r!=t.length););if(i!=Number(i)||"-"!=t.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==t.charAt(r+1))for(n.nsp="";++r;){var o=t.charAt(r);if(","==o)break;if(n.nsp+=o,r==t.length)break}else n.nsp="/";var a=t.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=t.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=t.charAt(r),r==t.length)break}n.id=Number(n.id)}if(t.charAt(++r))try{n.data=l.parse(t.substr(r))}catch(t){return h()}return u("decoded %s as %j",t,n),n}function c(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:e.ERROR,data:"parser error"}}var u=n(49)("socket.io-parser"),l=n(50),f=(n(51),n(52)),d=n(53),p=n(54);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=a,r.prototype.encode=function(t,n){if(u("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)o(t,n);else{var r=i(t);n([r])}},f(a.prototype),a.prototype.add=function(t){var n;if("string"==typeof t)n=s(t),e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!p(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e){function n(t){return n.enabled(t)?function(e){e=r(e);var i=new Date,o=i-(n[t]||i);n[t]=i,e=t+" "+e+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}t.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(t){}for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)t=e[i].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,n=6e4,r=60*n;return t>=r?(t/r).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(var e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(t){}},function(t,e,n){var r;!function(i){function o(t){if(o[t]!==c)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var i=f.stringify,a="function"==typeof i&&d;if(a){(n=function(){return 1}).toJSON=n;try{a="0"===i(0)&&"0"===i(new Number)&&'""'==i(new String)&&i(h)===c&&i(c)===c&&i()===c&&"1"===i(n)&&"[1]"==i([n])&&"[null]"==i([c])&&"null"==i(null)&&"[null,null,null]"==i([c,h,null])&&i({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===i(null,n)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new Date(-1))}catch(t){a=!1}}e=a}if("json-parse"==t){var s=f.parse;if("function"==typeof s)try{if(0===s("0")&&!s(!1)){n=s(r);var u=5==n.a.length&&1===n.a[0];if(u){try{u=!s('"\t"')}catch(t){}if(u)try{u=1!==s("01")}catch(t){}if(u)try{u=1!==s("1.")}catch(t){}}}}catch(t){u=!1}e=u}}return o[t]=!!e}var a,s,c,h={}.toString,u=n(2),l="object"==typeof JSON&&JSON,f="object"==typeof e&&e&&!e.nodeType&&e;f&&l?(f.stringify=l.stringify,f.parse=l.parse):f=i.JSON=l||{};var d=new Date(-0xc782b5b800cec);try{d=d.getUTCFullYear()==-109252&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(t){}if(!o("json")){var p="[object Function]",g="[object Date]",v="[object Number]",m="[object String]",y="[object Array]",b="[object Boolean]",w=o("bug-string-char-index");if(!d)var _=Math.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(t,e){return E[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};(a={}.hasOwnProperty)||(a=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=h?a=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,a=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,a.call(this,t)});var x={boolean:1,number:1,string:1,undefined:1},A=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!x[n]};if(s=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)a.call(r,i)&&o++;return n=r=null,o?s=2==o?function(t,e){var n,r={},i=h.call(t)==p;for(n in t)i&&"prototype"==n||a.call(r,n)||!(r[n]=1)||!a.call(t,n)||e(n)}:function(t,e){var n,r,i=h.call(t)==p;for(n in t)i&&"prototype"==n||!a.call(t,n)||(r="constructor"===n)||e(n);(r||a.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(t,e){var n,i,o=h.call(t)==p,s=!o&&"function"!=typeof t.constructor&&A(t,"hasOwnProperty")?t.hasOwnProperty:a;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(i=r.length;n=r[--i];s.call(t,n)&&e(n));}),s(t,e)},!o("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S="000000",T=function(t,e){return(S+(e||0)).slice(-t)},N="\\u00",O=function(t){var e,n='"',r=0,i=t.length,o=i>10&&w;for(o&&(e=t.split(""));r<i;r++){var a=t.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[a];break;default:if(a<32){n+=N+T(2,a.toString(16));break}n+=o?e[r]:w?t.charAt(r):t[r]}}return n+'"'},M=function(t,e,n,r,i,o,u){var l,f,d,p,w,E,x,A,C,S,N,j,D,P,B,I;try{l=e[t]}catch(t){}if("object"==typeof l&&l)if(f=h.call(l),f!=g||a.call(l,"toJSON"))"function"==typeof l.toJSON&&(f!=v&&f!=m&&f!=y||a.call(l,"toJSON"))&&(l=l.toJSON(t));else if(l>-1/0&&l<1/0){if(k){for(w=_(l/864e5),d=_(w/365.2425)+1970-1;k(d+1,0)<=w;d++);for(p=_((w-k(d,0))/30.42);k(d,p+1)<=w;p++);w=1+w-k(d,p),E=(l%864e5+864e5)%864e5,x=_(E/36e5)%24,A=_(E/6e4)%60,C=_(E/1e3)%60,S=E%1e3}else d=l.getUTCFullYear(),p=l.getUTCMonth(),w=l.getUTCDate(),x=l.getUTCHours(),A=l.getUTCMinutes(),C=l.getUTCSeconds(),S=l.getUTCMilliseconds();l=(d<=0||d>=1e4?(d<0?"-":"+")+T(6,d<0?-d:d):T(4,d))+"-"+T(2,p+1)+"-"+T(2,w)+"T"+T(2,x)+":"+T(2,A)+":"+T(2,C)+"."+T(3,S)+"Z"}else l=null;if(n&&(l=n.call(e,t,l)),null===l)return"null";if(f=h.call(l),f==b)return""+l;if(f==v)return l>-1/0&&l<1/0?""+l:"null";if(f==m)return O(""+l);if("object"==typeof l){for(P=u.length;P--;)if(u[P]===l)throw TypeError();if(u.push(l),N=[],B=o,o+=i,f==y){for(D=0,P=l.length;D<P;D++)j=M(D,l,n,r,i,o,u),N.push(j===c?"null":j);I=N.length?i?"[\n"+o+N.join(",\n"+o)+"\n"+B+"]":"["+N.join(",")+"]":"[]"}else s(r||l,function(t){var e=M(t,l,n,r,i,o,u);e!==c&&N.push(O(t)+":"+(i?" ":"")+e)}),I=N.length?i?"{\n"+o+N.join(",\n"+o)+"\n"+B+"}":"{"+N.join(",")+"}":"{}";return u.pop(),I}};f.stringify=function(t,e,n){var r,i,o,a;if("function"==typeof e||"object"==typeof e&&e)if((a=h.call(e))==p)i=e;else if(a==y){o={};for(var s,c=0,u=e.length;c<u;s=e[c++],a=h.call(s),(a==m||a==v)&&(o[s]=1));}if(n)if((a=h.call(n))==v){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==m&&(r=n.length<=10?n:n.slice(0,10));return M("",(s={},s[""]=t,s),i,o,r,"",[])}}if(!o("json-parse")){var j,D,P=String.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw j=D=null,SyntaxError()},z=function(){for(var t,e,n,r,i,o=D,a=o.length;j<a;)switch(i=o.charCodeAt(j)){case 9:case 10:case 13:case 32:j++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=w?o.charAt(j):o[j],j++,t;case 34:for(t="@",j++;j<a;)if(i=o.charCodeAt(j),i<32)I();else if(92==i)switch(i=o.charCodeAt(++j)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=B[i],j++;break;case 117:for(e=++j,n=j+4;j<n;j++)i=o.charCodeAt(j),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||I();t+=P("0x"+o.slice(e,j));break;default:I()}else{if(34==i)break;for(i=o.charCodeAt(j),e=j;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++j);t+=o.slice(e,j)}if(34==o.charCodeAt(j))return j++,t;I();default:if(e=j,45==i&&(r=!0,i=o.charCodeAt(++j)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(j+1),i>=48&&i<=57)&&I(),r=!1;j<a&&(i=o.charCodeAt(j),i>=48&&i<=57);j++);if(46==o.charCodeAt(j)){for(n=++j;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==j&&I(),j=n}if(i=o.charCodeAt(j),101==i||69==i){for(i=o.charCodeAt(++j),43!=i&&45!=i||j++,n=j;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==j&&I(),j=n}return+o.slice(e,j)}if(r&&I(),"true"==o.slice(j,j+4))return j+=4,!0;if("false"==o.slice(j,j+5))return j+=5,!1;if("null"==o.slice(j,j+4))return j+=4,null;I()}return"$"},R=function(t){var e,n;if("$"==t&&I(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=z(),"]"!=t;n||(n=!0))n&&(","==t?(t=z(),"]"==t&&I()):I()),","==t&&I(),e.push(R(t));return e}if("{"==t){for(e={};t=z(),"}"!=t;n||(n=!0))n&&(","==t?(t=z(),"}"==t&&I()):I()),","!=t&&"string"==typeof t&&"@"==(w?t.charAt(0):t[0])&&":"==z()||I(),e[t.slice(1)]=R(z());return e}I()}return t},L=function(t,e,n){var r=H(t,e,n);r===c?delete t[e]:t[e]=r},H=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(h.call(i)==y)for(r=i.length;r--;)L(i,r,n);else s(i,function(t){L(i,t,n)});return n.call(t,e,i)};f.parse=function(t,e){var n,r;return j=0,D=""+t,n=R(z()),"$"!=z()&&I(),j=D=null,e&&h.call(e)==p?H((r={},r[""]=n,r),"",e):n}}}u&&(r=function(){return f}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}(this)},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){function n(t){if(t)return r(t)}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(t){var r=n(51),i=n(54);e.deconstructPacket=function(t){function e(t){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=e(t[c]);return a}return t}var n=[],o=t.data,a=t;return a.data=e(o),a.attachments=n.length,{packet:a,buffers:n}},e.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var i=e[t.num];return i}if(r(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var a in t)t[a]=n(t[a]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,n){function o(e,c,h){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){a++;var u=new FileReader;u.onload=function(){h?h[c]=this.result:s=this.result,--a||n(s)},u.readAsArrayBuffer(e)}else if(r(e))for(var l=0;l<e.length;l++)o(e[l],l,e);else if(e&&"object"==typeof e&&!i(e))for(var f in e)o(e[f],f,e)}var a=0,s=e;o(s),a||n(s)}}).call(e,function(){return this}())},function(t,e){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(t,e)}var i=(n(45),n(56)),o=n(85),a=n(52),s=n(48),c=n(87),h=n(88),u=(n(89),n(47)("socket.io-client:manager")),l=n(82),f=n(90);t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=i(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(e,"open",function(){n.onopen(),t&&t()}),o=c(e,"error",function(e){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var s=setTimeout(function(){u("connect attempt timed out after %d",a),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",h(this,"ondata"))),this.subs.push(c(this.decoder,"decoded",h(this,"ondecoded"))),this.subs.push(c(t,"error",h(this,"onerror"))),this.subs.push(c(t,"close",h(this,"onclose")))},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new o(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~l(n.connected,e)||n.connected.push(e)})}return e},r.prototype.destroy=function(t){var e=l(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},r.prototype.packet=function(t){u("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){u("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){t.exports=n(57)},function(t,e,n){t.exports=n(58),t.exports.parser=n(66)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);if(n=n||{},t&&"object"==typeof t&&(n=t,t=null),t&&(t=u(t),n.host=t.host,n.secure="https"==t.protocol||"wss"==t.protocol,n.port=t.port,t.query&&(n.query=t.query)),this.secure=null!=n.secure?n.secure:e.location&&"https:"==location.protocol,n.host){var i=n.host.split(":");n.hostname=i.shift(),i.length?n.port=i.pop():n.port||(n.port=this.secure?"443":"80")}this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=n.rejectUnauthorized||null,this.open()}function i(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=n(59),a=n(52),s=n(76)("engine.io-client:socket"),c=n(82),h=n(66),u=n(83),l=n(84),f=n(74);t.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=h.protocol,r.Socket=r,r.Transport=n(65),r.transports=n(59),r.parser=n(66),r.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=i(this.query);e.EIO=h.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;l=l||e}l||(s('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!l)if("pong"==e.type&&"probe"==e.data){if(s('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,s('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){l||"closed"!=f.readyState&&(s("changing transport and sending upgrade packet"),h(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){l||(l=!0,h(),u.close(),u=null)}function i(e){var r=new Error("probe error: "+e);r.transport=u.name,n(),s('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function c(t){u&&t.name!=u.name&&(s('"%s" works - aborting "%s"',t.name,u.name),n())}function h(){u.removeListener("open",e),u.removeListener("error",i),u.removeListener("close",o),f.removeListener("close",a),f.removeListener("upgrading",c)}s('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),l=!1,f=this;r.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",i),u.once("close",o),this.once("close",a),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(l(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},r.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:t,data:e};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){s("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){var n,r=!1,s=!1,c=!1!==e.jsonp;if(t.location){var h="https:"==location.protocol,u=location.port;u||(u=h?443:80),r=e.hostname!=location.hostname||u!=e.port,s=e.secure!=h}if(e.xdomain=r,e.xscheme=s,n=new i(e),"open"in n&&!e.forceJSONP)return new o(e);if(!c)throw new Error("JSONP disabled");return new a(e)}var i=n(60),o=n(63),a=n(79),s=n(80);e.polling=r,e.websocket=s}).call(e,function(){return this}())},function(t,e,n){var r=n(61);t.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){var r=n(62);try{t.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(e){t.exports=!1}},function(t,e){t.exports=function(){return this}()},function(t,e,n){(function(e){function r(){}function i(t){if(c.call(this,t),e.location){var n="https:"==location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!=e.location.hostname||r!=t.port,this.xs=t.secure!=n}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,
this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function a(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var s=n(60),c=n(64),h=n(52),u=n(75),l=n(76)("engine.io-client:polling-xhr");t.exports=i,t.exports.Request=o,u(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new o(t)},i.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},i.prototype.doPoll=function(){l("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},h(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(t),r=this;try{if(l("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async),this.supportsBinary&&(n.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4==n.readyState&&(200==n.status||1223==n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},l("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}e.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}e.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},e.document&&(o.requestsCount=0,o.requests={},e.attachEvent?e.attachEvent("onunload",a):e.addEventListener&&e.addEventListener("beforeunload",a,!1))}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t&&t.forceBase64;h&&!e||(this.supportsBinary=!1),i.call(this,t)}var i=n(65),o=n(74),a=n(66),s=n(75),c=n(76)("engine.io-client:polling");t.exports=r;var h=function(){var t=n(60),e=new t({xdomain:!1});return null!=e.responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){c("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||e()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,r){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+i.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var i=n(66),o=n(52);t.exports=r,o(r.prototype),r.timestamps=0,r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){(function(t){function r(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=m[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,n,!0,r)},i.readAsArrayBuffer(t.data)}function a(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(v)return o(t,n,r);var i=new Uint8Array(1);i[0]=m[t.type];var a=new w([i.buffer,t.data]);return r(a)}function s(t,e,n){for(var r=new Array(t.length),i=f(t.length,n),o=function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})},a=0;a<t.length;a++)o(a,t[a],i)}var c=n(67),h=n(68),u=n(69),l=n(70),f=n(71),d=n(72),p=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),v=p||g;e.protocol=3;var m=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=c(m),b={type:"error",data:"parser error"},w=n(73);e.encodePacket=function(e,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return i(e,n,s);if(w&&c instanceof t.Blob)return a(e,n,s);if(c&&c.base64)return r(e,s);var h=m[e.type];return void 0!==e.data&&(h+=o?d.encode(String(e.data)):String(e.data)),s(""+h)},e.encodeBase64Packet=function(n,r){var i="b"+e.packets[n.type];if(w&&n.data instanceof w){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];r(i+t)},o.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var s=new Uint8Array(n.data),c=new Array(s.length),h=0;h<s.length;h++)c[h]=s[h];a=String.fromCharCode.apply(null,c)}return i+=t.btoa(a),r(i)},e.decodePacket=function(t,n,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r)try{t=d.decode(t)}catch(t){return b}var i=t.charAt(0);return Number(i)==i&&y[i]?t.length>1?{type:y[i],data:t.substring(1)}:{type:y[i]}:b}var o=new Uint8Array(t),i=o[0],a=u(t,1);return w&&"blob"===n&&(a=new w([a])),{type:y[i],data:a}},e.decodeBase64Packet=function(e,n){var r=y[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=l.decode(e.substr(1));return"blob"===n&&w&&(i=new w([i])),{type:r,data:i}},e.encodePayload=function(t,n,r){function i(t){return t.length+":"+t}function o(t,r){e.encodePacket(t,!!a&&n,!0,function(t){r(null,i(t))})}"function"==typeof n&&(r=n,n=null);var a=h(t);return n&&a?w&&!v?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void s(t,o,function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==t)return r(b,0,1);for(var o,a,s="",c=0,h=t.length;c<h;c++){var u=t.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(o=Number(s)))return r(b,0,1);if(a=t.substr(c+1,o),s!=a.length)return r(b,0,1);if(a.length){if(i=e.decodePacket(a,n,!0),b.type==i.type&&b.data==i.data)return r(b,0,1);var l=r(i,c+o,h);if(!1===l)return}c+=o,s=""}}return""!=s?r(b,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}return t.length?void s(t,r,function(t,e){var r=e.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}e?i[o++]=0:i[o++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)}):n(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,w){var c=new w([e.buffer,s.buffer,t]);n(null,c)}})}s(t,r,function(t,e){return n(new w(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],h="",l=1;255!=s[l];l++){if(h.length>310){a=!0;break}h+=s[l]}if(a)return r(b,0,1);i=u(i,2+h.length),h=parseInt(h);var f=u(i,0,h);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(t){var d=new Uint8Array(f);f="";for(var l=0;l<d.length;l++)f+=String.fromCharCode(d[l])}o.push(f),i=u(i,h)}var p=o.length;o.forEach(function(t,i){r(e.decodePacket(t,n,!0),i,p)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e,n){(function(e){function r(t){function n(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(i(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&n(t[o]))return!0}return!1}return n(t)}var i=n(51);t.exports=r}).call(e,function(){return this}())},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(t,e){!function(t){"use strict";e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(e){var n,r,i,o,a,s=.75*e.length,c=e.length,h=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(n=0;n<c;n+=4)r=t.indexOf(e[n]),i=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),a=t.indexOf(e[n+3]),l[h++]=r<<2|i>>4,l[h++]=(15&i)<<4|o>>2,l[h++]=(3&o)<<6|63&a;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e){function n(t,e,n){function i(t,r){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=n):0!==i.count||o||e(null,r)}var o=!1;return n=n||r,i.count=t,0===t?e():i}function r(){}t.exports=n},function(t,e,n){var r;(function(t,i){!function(o){function a(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function s(t){for(var e,n=t.length,r=-1,i="";++r<n;)e=t[r],e>65535&&(e-=65536,i+=w(e>>>10&1023|55296),e=56320|1023&e),i+=w(e);return i}function c(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function h(t,e){return w(t>>e&63|128)}function u(t){if(0==(4294967168&t))return w(t);var e="";return 0==(4294965248&t)?e=w(t>>6&31|192):0==(4294901760&t)?(c(t),e=w(t>>12&15|224),e+=h(t,6)):0==(4292870144&t)&&(e=w(t>>18&7|240),e+=h(t,12),e+=h(t,6)),e+=w(63&t|128)}function l(t){for(var e,n=a(t),r=n.length,i=-1,o="";++i<r;)e=n[i],o+=u(e);return o}function f(){if(b>=y)throw Error("Invalid byte index");var t=255&m[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(){var t,e,n,r,i;if(b>y)throw Error("Invalid byte index");if(b==y)return!1;if(t=255&m[b],b++,0==(128&t))return t;if(192==(224&t)){var e=f();if(i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=f(),n=f(),i=(15&t)<<12|e<<6|n,i>=2048)return c(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=f(),n=f(),r=f(),i=(15&t)<<18|e<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function p(t){m=a(t),y=m.length,b=0;for(var e,n=[];(e=d())!==!1;)n.push(e);return s(n)}var g="object"==typeof e&&e,v=("object"==typeof t&&t&&t.exports==g&&t,"object"==typeof i&&i);v.global!==v&&v.window!==v||(o=v);var m,y,b,w=String.fromCharCode,_={version:"2.0.0",encode:l,decode:p};r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(5)(t),function(){return this}())},function(t,e){(function(e){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new o;n(t);for(var i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}function i(t,e){return n(t),new Blob(t,e||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,a=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(t){return!1}}(),s=a&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(t){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return a?s?e.Blob:i:c?r:void 0}()}).call(e,function(){return this}())},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(t){}}function s(){var t;try{t=localStorage.debug}catch(t){}return t}e=t.exports=n(77),e.log=o,e.formatArgs=i,e.save=a,e.load=s,e.useColors=r,e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(s())},function(t,e,n){function r(){return e.colors[u++%e.colors.length]}function i(t){function n(){}function i(){var t=i,n=+new Date,o=n-(h||n);t.diff=o,t.prev=h,t.curr=n,h=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=e.formatters[r];if("function"==typeof i){var o=a[s];n=i.call(t,o),a.splice(s,1),s--}return n}),"function"==typeof e.formatArgs&&(a=e.formatArgs.apply(t,a));var c=i.log||e.log||console.log.bind(console);c.apply(t,a)}n.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:n;return o.namespace=t,o}function o(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function a(){e.enable("")}function s(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i,e.coerce=c,e.disable=a,e.enable=o,e.enabled=s,e.humanize=n(78),e.names=[],e.skips=[],e.formatters={};var h,u=0},function(t,e){function n(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*u;case"days":case"day":case"d":return n*h;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function r(t){return t>=h?Math.round(t/h)+"d":t>=c?Math.round(t/c)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function i(t){return o(t,h,"day")||o(t,c,"hour")||o(t,s,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,h=24*c,u=365.25*h;t.exports=function(t,e){return e=e||{},"string"==typeof t?n(t):e.long?i(t):r(t)}},function(t,e,n){(function(e){function r(){}function i(t){o.call(this,t),this.query=this.query||{},s||(e.___eio||(e.___eio=[]),s=e.___eio),this.index=s.length;var n=this;s.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(64),a=n(75);t.exports=i;var s,c=/\n/g,h=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(t){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),t=t.replace(h,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),i.call(this,t)}var i=n(65),o=n(66),a=n(74),s=n(75),c=n(76)("engine.io-client:websocket"),h=n(81);t.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new h(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){i.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,i=t.length;r<i;r++)o.encodePacket(t[r],this.supportsBinary,function(t){try{n.ws.send(t)}catch(t){c("websocket closed before onclose event")}});setTimeout(e,0)},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},r.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===r.prototype.name)}},function(t,e){function n(t,e,n){var r;return r=e?new i(t,e):new i(t)}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;t.exports=i?n:null,i&&(n.prototype=i.prototype)},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");i!=-1&&o!=-1&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=n.exec(t||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return i!=-1&&o!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())},function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var i=n(48),o=n(52),a=n(86),s=n(87),c=n(88),h=n(47)("socket.io-client:socket"),u=n(68);t.exports=e=r;var l={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},f=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",c(this,"onopen")),s(t,"packet",c(this,"onpacket")),s(t,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(l.hasOwnProperty(t))return f.apply(this,arguments),this;var e=a(arguments),n=i.EVENT;u(e)&&(n=i.BINARY_EVENT);var r={type:n,data:e};return"function"==typeof e[e.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){h("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){h("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];h("emitting event %j",e),null!=t.id&&(h("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);h("sending ack %j",r);var o=u(r)?i.BINARY_ACK:i.ACK;e.packet({type:o,id:t,data:r})}}},r.prototype.onack=function(t){h("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},function(t,e){function n(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=n},function(t,e){function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){var n=Object.prototype.hasOwnProperty;e.keys=Object.keys||function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e},e.values=function(t){var e=[];for(var r in t)n.call(t,r)&&e.push(t[r]);return e},e.merge=function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);return t},e.length=function(t){return e.keys(t).length},e.isEmpty=function(t){return 0==e.length(t)}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}]);